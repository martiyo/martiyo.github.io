<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="alternate"
      type="application/rss+xml"
      href="https://martiyo.github.io/rss.xml"
      title="RSS feed for https://martiyo.github.io/"
    />
    <title>EmacsFAQ</title>
    <meta name="author" content="martiyo" />
    <meta name="referrer" content="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="static/style.css" rel="stylesheet" type="text/css" />
    <link rel="icon" href="static/favicon.ico" />
  </head>
  <body>
    <div id="preamble" class="status">
      <div class="header">
        <ul>
          <li><a href="https://martiyo.github.io/">/home</a></li>
          <li><a href="https://martiyo.github.io/about">/about</a></li>
          <li><a href="https://martiyo.github.io/contact">/contact</a></li>
        </ul>
        <h1>El universo perdido de GNU/Emacs</h1>
        <blockquote>
          Este blog es una farsa son solo resumenes, traducciónes y cosas que
          encuentro por ahí.
        </blockquote>
        <form>
          <input type="text" placeholder="Search..." />
        </form>
        <br />
      </div>
    </div>
    <div id="content">
      <h1 class="title">Posts tagged "linux":</h1>
      <div class="post-date">05 ene 2022</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2022-01-05-el-empaquetador-tar.html"
          >El empaquetador tar</a
        >
      </h1>
      <p>Empaquetar archivos y directorios.</p>

      <div id="outline-container-org1fb02d3" class="outline-2">
        <h2 id="org1fb02d3">Descripción</h2>
        <div class="outline-text-2" id="text-org1fb02d3">
          <p>
            El programa tar, es usado para almacenar archivos y directorios en
            un solo archivo, no para comprimirlos. Dentro de los entornos Unix
            tar aparece como una orden que puede ser ejecutada desde la línea de
            órdenes de una consola de texto o desde un simple terminal. El
            formato de la orden es comunmente:
          </p>

          <div class="org-src-container">
            <pre class="src src-sh"></pre>
          </div>
          <p>
            tar &lt;opciones&gt; &lt;archivoSalida&gt; &lt;archivo1&gt;
            &lt;archivo2&gt; &#x2026; &lt;archivoN&gt; #+END<sub>SRC</sub>
          </p>

          <p>
            Donde &lt;archivoSalida&gt; es el archivo resultado y
            &lt;archivo1&gt;, &lt;archivo2&gt;, etcétera son los diferentes
            archivos que serán "empaquetados" en &lt;archivoSalida&gt;. Este
            proceso permite respaldar archivos, compartirlos, transmitirlos por
            Internet o por redes locales de una forma fácil.
          </p>
        </div>
      </div>

      <div id="outline-container-orgd10e45c" class="outline-2">
        <h2 id="orgd10e45c">Opciones más usadas</h2>
        <div class="outline-text-2" id="text-orgd10e45c">
          <ul class="org-ul">
            <li>
              <b>-c</b> Crea un archivo tar que contiene los elementos
              especificados.
            </li>
            <li><b>-x</b> Extrae el archivo de almacenamiento al disco.</li>
            <li><b>-t</b> Listar el contenido del archivo tar.</li>
            <li>
              <b>-f</b> Especifica el nombre del archivo de almacenamiento.
            </li>
            <li><b>-v</b> Visualizar lo que se realiza.</li>
            <li>
              <b>-j</b> Se utiliza para comprimir el archivo a con de bzip2.
            </li>
            <li>
              <b>-z</b> Se utiliza para comprimir el archivo a con de gzip.
            </li>
          </ul>
          <p>
            <b>+ -r</b> Se utiliza para agregar o actualizar un archivo
            existente con archivos o directorios
          </p>
          <ul class="org-ul">
            <li>
              <b>-u</b> Como -r, pero las nuevas entradas se agregan solo si
              tienen una fecha de modificación más reciente que la entrada
              correspondiente en el archivo.
            </li>
          </ul>
        </div>
      </div>

      <div id="outline-container-org66868ee" class="outline-2">
        <h2 id="org66868ee">Ejemplos</h2>
        <div class="outline-text-2" id="text-org66868ee"></div>
        <ul class="org-ul">
          <li>
            <a id="org447039c"></a>Crear archivo tar sin comprimir<br />
            <div class="outline-text-5" id="text-org447039c">
              <pre class="example">
$ tar -cvf /path/to/foo.tar /path/to/foo/
</pre
              >

              <p>
                Dónde ‘/path/to/foo.tar‘ es la ubicación del archivo tar
                resultante (con extención tar) y ‘/path/to/foo’ es la ubicación
                del archivo o directorio que se utilizará como entrada, las
                rutas pueden ser ralativas o absolutas.
              </p>
            </div>
          </li>

          <li>
            <a id="orgb6bf7fa"></a>Todos los archivos que comienzan con una
            letra<br />
            <div class="outline-text-5" id="text-orgb6bf7fa">
              <pre class="example">
# tar -cvf fullbackup.tar i*
install.log
install.log.syslog
</pre
              >
            </div>
          </li>

          <li>
            <a id="org6cd9374"></a>Agregar un archivo al tar existente<br />
            <div class="outline-text-5" id="text-org6cd9374">
              <pre class="example">
# tar --append --file=backup.tar anaconda-ks.cfg
</pre
              >
            </div>
          </li>

          <li>
            <a id="org108c76c"></a>Extraer archivos de un tar<br />
            <div class="outline-text-5" id="text-org108c76c">
              <pre class="example">
$ tar -xvf /path/to/foo.tar
</pre
              >
            </div>
          </li>

          <li>
            <a id="org7ed60ff"></a>Extraer archivos de un tar en un directorio
            especifico<br />
            <div class="outline-text-5" id="text-org7ed60ff">
              <pre class="example">
$ tar -xvf /path/to/foo.tar -C /path/to/destination/
</pre
              >
            </div>
          </li>

          <li>
            <a id="org5e599cd"></a>Extraer un archivo del archivo tar<br />
            <div class="outline-text-5" id="text-org5e599cd">
              <pre class="example">
$ tar --extract -vv --occurrence --file=./backup.tar anaconda-ks.cfg
</pre
              >
            </div>
          </li>

          <li>
            <a id="org00b7977"></a>Listar el contenido de tar<br />
            <div class="outline-text-5" id="text-org00b7977">
              <pre class="example">
$ tar -ztvf /path/to/foo.tgz
</pre
              >
            </div>
          </li>

          <li>
            <a id="org6ddaa94"></a>Crear, extraer y listar un archivo .gz con
            tar<br />
            <div class="outline-text-5" id="text-org6ddaa94">
              <p>Crear</p>

              <pre class="example">
$ tar -czvf /path/to/foo.tgz /path/to/foo/
</pre
              >

              <p>Extraer</p>

              <pre class="example">
$ tar -xzvf /path/to/foo.tgz /path/to/foo/
</pre
              >

              <p>Listar</p>

              <pre class="example">
$ tar -ztvf /path/to/foo.tgz /path/to/foo/
</pre
              >
            </div>
          </li>

          <li>
            <a id="org6b4667e"></a>Crear, extraer y listar un archivo .bz2<br />
            <div class="outline-text-5" id="text-org6b4667e">
              <p>Crear</p>

              <pre class="example">
$ tar -czvf /path/to/foo.tgz /path/to/foo/
</pre
              >

              <p>Extraer</p>

              <pre class="example">
$ tar -xjvf /path/to/foo.tgz /path/to/foo/
</pre
              >

              <p>Listar</p>

              <pre class="example">
$ tar -jtvf /path/to/foo.tgz /path/to/foo/
</pre
              >
            </div>
          </li>
        </ul>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">24 oct 2021</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2021-10-24-pass.html"
          >Pass el gestor de contraseñas estandar de unix</a
        >
      </h1>
      <p>La gestión de contraseñas debe ser simple y seguir Filosofía Unix.</p>

      <div id="outline-container-org7c5d4b7" class="outline-2">
        <h2 id="org7c5d4b7">Introducción</h2>
        <div class="outline-text-2" id="text-org7c5d4b7">
          <p>
            Con pass, cada contraseña vive dentro de un archivo gpg cifrado cuyo
            nombre de archivo es el título del sitio web, correo o recurso que
            requiere la contraseña. Estos archivos cifrados pueden organizarse
            en jerarquías de carpetas significativas, copiadas de maquina a
            maquina, y, en general, manipuladas utilizando los servicios de
            gestión de archivos de línea de comando estándar.
          </p>

          <p>
            <b>pass</b> hace que la gestión de estos archivos de contraseña
            individuales sea extremadamente fácil. Todas las contraseñas viven
            en <b>~/.password-store</b>, y pass proporciona algunos comandos
            agradables para agregar, editar, generar y recuperar contraseñas. Es
            un script de shell muy corto y sencillo. Es capaz de poner
            temporalmente contraseñas en el portapapeles y rastrear cambios de
            contraseña utilizando git.
          </p>
        </div>
      </div>

      <div id="outline-container-org9928210" class="outline-2">
        <h2 id="org9928210">Usando el Password-store</h2>
        <div class="outline-text-2" id="text-org9928210"></div>
        <div id="outline-container-org78d0bb0" class="outline-3">
          <h3 id="org78d0bb0">
            Enumerar las contraseñas existentes en el store
          </h3>
          <div class="outline-text-3" id="text-org78d0bb0">
            <pre class="example">
dev1@devuan ~ $ pass 
Password Store
└── correo
   ├── micorreo@gmail.com
   └── probando@gmail.com
</pre
            >
          </div>
        </div>

        <div id="outline-container-org32efec5" class="outline-3">
          <h3 id="org32efec5">Mostrar contraseñas</h3>
          <div class="outline-text-3" id="text-org32efec5">
            <pre class="example">
dev1@devuan ~ $ pass micorreo@gmail.com 
contraseñasegura
</pre
            >
          </div>
        </div>

        <div id="outline-container-org7e83733" class="outline-3">
          <h3 id="org7e83733">Copiar al portapapeles</h3>
          <div class="outline-text-3" id="text-org7e83733">
            <pre class="example">
dev1@devuan ~ $ pass -c micorreo@gmail.com 
Copied correo/micorreo@gmail.com to clipboard. Will clear in 45 seconds.
</pre
            >

            <p>
              Cualquira de estos comandos habrirá un diálogo de entrada de
              contraseña agradable usando el estándar gpg-agent (que se puede
              configurar para mantenerse autenticado durante varios minutos), ya
              que todas las contraseñas están encriptadas.
            </p>
          </div>
        </div>
        <div id="outline-container-org1b179ec" class="outline-3">
          <h3 id="org1b179ec">Añadir o modificar contraseñas</h3>
          <div class="outline-text-3" id="text-org1b179ec">
            <p>
              Añadir #+BEGIN [dev1@devuan ~]$ pass insert martiyo@protonmail.com
              Enter password for martiyo@protonmail.com: Retype password for
              martiyo@protonmail.com: #+END<sub>SRC</sub>
            </p>

            <p>Modificar</p>

            <pre class="example">
[dev1@devuan ~]$  pass insert correo/probando@gmail.com
An entry already exists for correo/probando@gmail.com. Overwrite it? [y/N] n
</pre
            >

            <p>
              Esto también maneja contraseñas multilíneas u otros datos con
              &#x2013;multiline or -m, y las contraseñas se pueden editar en su
              editor de texto predeterminado utilizando pass edit pass-name.
            </p>
          </div>
        </div>
        <div id="outline-container-org290537d" class="outline-3">
          <h3 id="org290537d">Contraseñas automaticas</h3>
          <div class="outline-text-3" id="text-org290537d">
            <p>
              La utilidad <b>generate</b> crea nuevas contraseñas utilzando
              <b>/dev/urandom</b>
            </p>

            <pre class="example">
[dev1@devuan ~]$  pass generate web/midudev.com 15
  mkdir: se ha creado el directorio '/home/dev1/.password-store/web'
  The generated password for web/midudev.com is:
  r?&gt;T.C/NE)&gt;kT9W
</pre
            >

            <p>
              Es posible generar contraseñas sin símbolos usando
              &#x2013;no-symbols or -n, y podemos copiarlo al portapapeles en
              lugar de mostrarlo en la consola usando &#x2013;clip or -c.
            </p>
          </div>
        </div>
        <div id="outline-container-org424c415" class="outline-3">
          <h3 id="org424c415">Eliminar</h3>
          <div class="outline-text-3" id="text-org424c415">
            <pre class="example">
[dev1@devuan ~]$  pass rm correo/probando@gmail.com 
  Are you sure you would like to delete correo/probando@gmail.com? [y/N] y
  '/home/dev1/.password-store/correo/probando@gmail.com.gpg' borrado
</pre
            >
          </div>
        </div>
        <div id="outline-container-org1d74fbc" class="outline-3">
          <h3 id="org1d74fbc">Git</h3>
          <div class="outline-text-3" id="text-org1d74fbc">
            <p>
              Si la tienda de contraseñas es un repositorio de git, ya que cada
              manipulación crea un git commit, puede sincronizar la tienda de
              contraseñas utilizando <b>pass git push</b> y
              <b>pass git pull</b>, que llamada git-push or git-pull en la
              tienda.
            </p>
          </div>
        </div>
      </div>
      <div id="outline-container-org22f76d8" class="outline-2">
        <h2 id="org22f76d8">Configuración</h2>
        <div class="outline-text-2" id="text-org22f76d8">
          <p>Para comenzar hay inicializar el dposito de contraseñas</p>

          <pre class="example">
pass init "id de mi clave GPG"
</pre
          >
        </div>

        <div id="outline-container-org78e82c4" class="outline-3">
          <h3 id="org78e82c4">Generando las claves con GnuPG</h3>
          <div class="outline-text-3" id="text-org78e82c4">
            <p>Para crear una pareja de claves (publica y privada) se usa</p>

            <pre class="example">
gpg --gen-key
</pre
            >

            <p>se completan los datos solicitados y listo.</p>

            <p>el comando</p>

            <pre class="example">
gpg -k
</pre
            >

            <p>
              mostrará la identificación de cada clave
              <a
                href="https://lignux.com/wp-content/uploads/2014/01/instrucciones-gpg.pdf"
                >más info sobre gpg</a
              >
            </p>

            <p>
              <b>Nota</b> para que pass pueda descifrar las contraseñas hay que
              exportar un variable de entorno:
            </p>

            <pre class="example">
export GPG_TTY=$(tty)
</pre
            >
          </div>
        </div>

        <div id="outline-container-orgf8e2998" class="outline-3">
          <h3 id="orgf8e2998">Inicializar el store como un repositorio git</h3>
          <div class="outline-text-3" id="text-orgf8e2998">
            <pre class="example">
$ pass git init
Initialized empty Git repository in /home/dev1/.password-store/.git/
</pre
            >

            <p>
              Si un repositirio git es inicializado, pass crea un git commit
              cada vez que se manipula el store de contraseñas.
            </p>
          </div>
        </div>
      </div>
      <div id="outline-container-org9b3367b" class="outline-2">
        <h2 id="org9b3367b">Organización</h2>
        <div class="outline-text-2" id="text-org9b3367b">
          <p>
            nombres de usuario, contraseñas, pins, sitios web, metadatos, etc.
          </p>

          <p>
            Password-store no impone ningún esquema o tipo de organización
            particular de los datos, ya que es simplemente un archivo de texto
            plano, que puede contener datos arbitrarios. aunque el caso más
            común es almacenar una contraseña única por entrada, algunos
            usuarios prefieren almacenar más que su contraseña dentro de la
            tienda de contraseñas, y además almacenar respuestas a preguntas
            secretas, urls del sitio web y otra información o metadatos
            sensibles. como la pass no impone un esquema propio, puede elegir su
            propia organización. hay muchas posibilidades. Un enfoque es
            utilizar la funcionalidad multilínea de pase (&#x2013;multiline or
            -m in insert), y almacenar la contraseña en sí misma en la primera
            línea del archivo, y la información adicional en líneas posteriores.
            por ejemplo, Amazon/bookreader podría parecer así:
          </p>

          <pre class="example">
Yw|ZSNH!}z"6{ym9pI
URL: *.amazon.com/*
Username: AmazonianChicken@example.com
Secret Question 1: What is your childhood best friend's most bizarre superhero fantasy? Oh god, Amazon, it's too awful to say...
Phone Support PIN #: 84719
</pre
          >

          <p>
            Las opciones <b>&#x2013;clip / -c</b> solo copiarán la primer línea
            de tal archivo en el portapapeles.
          </p>
        </div>
      </div>
      <div id="outline-container-org2dba31f" class="outline-2">
        <h2 id="org2dba31f">Emacs Pass-mode</h2>
        <div class="outline-text-2" id="text-org2dba31f">
          <p>
            Y no podia faltar el pass-modo para emacs, se instala con
            <b>package-install</b> y listo, la interfaz es muy intuitiva.
          </p>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">21 oct 2021</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2021-10-21-tmux.html">tmux</a>
      </h1>
      <p>Multiplexor de terminal.</p>

      <div id="outline-container-orgaca8126" class="outline-2">
        <h2 id="orgaca8126">Wikipedia</h2>
        <div class="outline-text-2" id="text-orgaca8126">
          <p>
            tmux es un multiplexor de terminal para sistemas tipo unix, similar
            a GNU Screen que permite dividir una consola en múltiples secciones
            o generar sesiones independientes en la misma terminal. Permite
            crear varias terminales dentro de una misma pantalla, las que
            incluso pueden desacoplarse y volver a acoplar en una sesión
            distinta​. tmux utiliza un modelo cliente-servidor. El servidor
            tiene varias sesiones y cada ventana es una entidad independiente
            que puede ser libremente vinculado a otras sesiones. En cada sesión
            se podrán visualizar y aceptar la entrada de teclado de varios
            clientes.
          </p>
        </div>
      </div>

      <div id="outline-container-org046da17" class="outline-2">
        <h2 id="org046da17">Configuración</h2>
        <div class="outline-text-2" id="text-org046da17">
          <p>
            El archivo de configuración es ~/.tmux.conf. Por defecto la
            combinación de teclas básica es <b>C-b</b> que yo por comodidad la
            he cambiado por <b>C-a</b>
            editando dicho archivo
          </p>
        </div>
      </div>

      <div id="outline-container-org9e9687f" class="outline-2">
        <h2 id="org9e9687f">Comandos básicos</h2>
        <div class="outline-text-2" id="text-org9e9687f">
          <table>
            <colgroup>
              <col class="org-left" />

              <col class="org-left" />
            </colgroup>
            <thead>
              <tr>
                <th scope="col" class="org-left">bind-key</th>
                <th scope="col" class="org-left">salida</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="org-left">C-a %</td>
                <td class="org-left">Abre un panel vertical</td>
              </tr>

              <tr>
                <td class="org-left">C-a "</td>
                <td class="org-left">Abre un panel horizontal</td>
              </tr>

              <tr>
                <td class="org-left">C-a derecha-izquierda-arriba-abajo</td>
                <td class="org-left">
                  Cambiar al panel derecho, izquierdo, arriba, abajo
                </td>
              </tr>

              <tr>
                <td class="org-left">C-a c</td>
                <td class="org-left">Crea una nueva pestaña</td>
              </tr>

              <tr>
                <td class="org-left">C-a ,</td>
                <td class="org-left">Darle nombre a la nueva pestaña</td>
              </tr>

              <tr>
                <td class="org-left">C-a n</td>
                <td class="org-left">Cambiar a la pestaña siguiente</td>
              </tr>

              <tr>
                <td class="org-left">C-a p</td>
                <td class="org-left">Cambiar a la pestaña previa</td>
              </tr>

              <tr>
                <td class="org-left">C-a ?</td>
                <td class="org-left">Lista de comandos</td>
              </tr>

              <tr>
                <td class="org-left">C-a d</td>
                <td class="org-left">Salir de la sesión</td>
              </tr>

              <tr>
                <td class="org-left">tmux a</td>
                <td class="org-left">Retomar la sesión</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div id="outline-container-org4272bf0" class="outline-3">
          <h3 id="org4272bf0">
            La wiki de arch tiene un muy buen ejemplo del archivo de
            configuración
          </h3>
          <div class="outline-text-3" id="text-org4272bf0">
            <pre class="example">
# Mover las ventanas izquierda o derecha en la sesión
bind-key -n C-right next
bind-key -n C-left prev
# Nueva combinacion Ctrl + z + (Las teclas a continuación abajo)
set -g prefix C-z
# Desatamos la tecla predeterminada Ctrl + b y utilizamos la nueva combinación Ctrl + z + [tecla] 
unbind-key C-b
bind-key C-z send-prefix
# Nueva ventana
bind-key C-n new-window
# Dividir la ventana en forma horizontal
bind-key C-h split-window -h
# Dividir la ventana en forma vertical
bind-key C-v split-window -v
# Movernos al panel arriba
bind-key C-up select-pane -U
# Movernos al panel abajo
bind-key C-down select-pane -D
# Movernos al panel a la izquierda
bind-key C-left select-pane -L
# Movernos al panel a la derecha
bind-key C-right select-pane -R
# Ocultar la session para volver a entrar solo tipeamos en consola: tmux attach-session ó tmux attach
bind-key C-d detach
# Habilitar que el mouse selecciones los paneles
set-option -g mouse-select-pane on
set-option -g set-titles on
# Sin actividad visual
set -g visual-activity on
set -g visual-bell on
# Barra de estado
set-option -g status-utf8 on
set-option -g status-justify right
set-option -g status-bg black
set-option -g status-fg green
set-option -g status-interval 5
set-option -g status-left-length 30
set-option -g status-left '#[fg=magenta]» #[fg=blue,bold]#T#[default]'
set-option -g status-right '#[fg=cyan]»» #[fg=blue,bold] #[fg=magenta]%D %k:%M#[default]'
set-option -g visual-activity on
set-window-option -g monitor-activity on
set-window-option -g window-status-current-fg green
set-window-option -g clock-mode-colour white 
set-window-option -g clock-mode-style 24
</pre
            >

            <p>TODO Habilitar history y mouse</p>

            <p>
              Fuentes:
              <a href="https://wiki.archlinux.org/index.php/Tmux_(Espa%C3%B1ol)"
                >archwiki</a
              >
              <a href="https://hipertextual.com/archivo/2014/09/tmux/"
                >hipertextual.com</a
              >
            </p>
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">03 oct 2021</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2021-10-03-youtube-dl.html"
          >youtube-dl</a
        >
      </h1>
      <p>
        Youtube-dl es un programa de línea de comandos para descargar videos de
        youtube y algunos otros sitios más
      </p>

      <div id="outline-container-orgc034160" class="outline-2">
        <h2 id="orgc034160">Instalación</h2>
        <div class="outline-text-2" id="text-orgc034160">
          <p>Con curl</p>

          <pre class="example">
sudo curl -L https://yt-dl.org/downloads/latest/youtube-dl -o /usr/local/bin/youtube-dl
sudo chmod a+rx /usr/local/bin/youtube-dl
</pre
          >

          <p>Con wget</p>

          <pre class="example">
sudo wget https://yt-dl.org/downloads/latest/youtube-dl -O /usr/local/bin/youtube-dl
sudo chmod a+rx /usr/local/bin/youtube-dl
</pre
          >
        </div>
      </div>

      <div id="outline-container-org81d8fef" class="outline-2">
        <h2 id="org81d8fef">Usos frecuentes</h2>
        <div class="outline-text-2" id="text-org81d8fef">
          <p>
            Descargar lista de reproducción completa y extraer audio en formato
            mp3
          </p>

          <pre class="example">
youtube-dl --extract-audio --audio-format mp3 -o "%(title)s.%(ext)s" &lt;url to playlist&gt;
</pre
          >
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">23 dic 2020</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2020-12-23-servidor-webdav.html"
          >Servidor webDAV</a
        >
      </h1>

      <div id="outline-container-orgfb8f13d" class="outline-2">
        <h2 id="orgfb8f13d">Webdav wiki</h2>
        <div class="outline-text-2" id="text-orgfb8f13d">
          <p>
            WebDAV es un grupo de trabajo del Internet Engineering Task Force.
            El término significa "Autoría y versionado distribuidos por Web"
            (Web Distributed Authoring and Versioning), y se refiere al
            protocolo (más precisamente, a la extensión del protocolo http) que
            el grupo definió.
          </p>

          <p>
            El objetivo de WebDAV es hacer de la World Wide Web un medio legible
            y editable, en línea con la visión original de Tim Berners-Lee. Este
            protocolo proporciona funcionalidades para crear, cambiar y mover
            documentos en un servidor remoto (típicamente un servidor web). Esto
            se utiliza sobre todo para permitir la edición de los documentos que
            sirve un servidor web, pero puede también aplicarse a sistemas de
            almacenamiento generales basados en web, que pueden ser accedidos
            desde cualquier lugar. La mayoría de los sistemas operativos
            modernos proporcionan soporte para WebDAV, haciendo que los ficheros
            de un servidor WebDAV aparezcan como almacenados en un directorio.
          </p>
        </div>
      </div>

      <div id="outline-container-org79a79f4" class="outline-2">
        <h2 id="org79a79f4">
          Instalación y configuración de un servidor webdav
        </h2>
        <div class="outline-text-2" id="text-org79a79f4"></div>
        <ul class="org-ul">
          <li>
            <a id="orga4924f7"></a>Instalar Apache2<br />
            <div class="outline-text-5" id="text-orga4924f7">
              <pre class="example">
sudo apt install apache2 apache2-utils
</pre
              >
            </div>
          </li>

          <li>
            <a id="orgfc444e5"></a>Directorio de almacenamiento:<br />
            <div class="outline-text-5" id="text-orgfc444e5">
              <pre class="example">
sudo mkdir ~/webDAV
</pre
              >

              <p>Agregar éste directorio al usuario y grupo <b>www-data</b>:</p>

              <pre class="example">
sudo chown -R www-data:www-data ~/webDav
</pre
              >
            </div>
          </li>

          <li>
            <a id="orga84bc23"></a>Habilitar los módulos dav y dav-fs en
            apache<br />
            <div class="outline-text-5" id="text-orga84bc23">
              <pre class="example">
sudo a2enmod dav

sudo a2enmod dav_fs
</pre
              >

              <p>Reiniciar el servidor:</p>

              <pre class="example">
sudo service apache2 restart
</pre
              >
            </div>
          </li>

          <li>
            <a id="org2f48528"></a>Configuración del virtual host de apache<br />
            <div class="outline-text-5" id="text-org2f48528">
              <p>
                para configurar un servidor basico en apache hay que editar el
                archivo
                <b>/etc/apache2/sites-available/000-default.conf</b> y dejarlo
                así:
              </p>

              <pre class="example">
DavLockDB /var/www/DavLock
&lt;VirtualHost *:80&gt;

ServerAdmin webmaster@localhost
DocumentRoot /var/www/html

ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined

Alias /webdav /var/www/webdav

&lt;Directory /var/www/webdav&gt;
    DAV On
&lt;/Directory&gt;

&lt;/VirtualHost&gt;
</pre
              >

              <p>
                después de editar éste archivo hay que reiniciar el
                servidor&#x2026;
              </p>

              <p>
                Para comprobar su funcionamiento en un navegador ir a la
                dirección:
              </p>

              <pre class="example">
ip_servidor/webdav
</pre
              >

              <blockquote>
                <p>
                  Para cambiar el directorio a compartir (/var/www/webdav) por
                  otro ubicado en una partición diferente de la raiz, se agrega
                  lo siguiente al archivo <b>000-default.conf</b>:
                </p>
              </blockquote>

              <pre class="example">
Options Indexes FollowSymLinks
AllowOverride All
Require all granted
DAV On
</pre
              >

              <p>que al final se ve así:</p>

              <pre class="example">
DavLockDB /var/www/DavLock
&lt;VirtualHost *:80&gt;

ServerAdmin webmaster@localhost
DocumentRoot /var/www/html

ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined

Alias /webdav /home/martin/webDAV

&lt;Directory /home/martin/webDAV&gt;
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
        DAV On
&lt;/Directory&gt;
&lt;/VirtualHost&gt;
</pre
              >

              <blockquote>
                <p>
                  Para poder editar los archivos desde diferentes dispositivos
                  hay que configurar los permisos:
                </p>
              </blockquote>

              <pre class="example">
sudo chgrp -R www-data ~/webDAV
sudo chmod -R g+w ~/webDAV
sudo find ~/webDAV -type d -exec chmod 2775 {} \;
sudo find ~/webDAV -type f -exec chmod ug+rw {} \;
</pre
              >

              <p>
                <a
                  href="https://geekland.eu/instalar-y-configurar-un-servidor-webdav-apache/"
                  >resumen de geekland</a
                >
              </p>
            </div>
          </li>
        </ul>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">19 dic 2020</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2020-12-19-mocp.html"
          >Mocp reproducir audio desde la terminal</a
        >
      </h1>
      <p>
        MOC es un reproductor de audio fácil de manejar y ligero, ideal para
        equipos con pocos recursos. La interfaz es similar a MC (Midnight
        Commander, el administrador de archivos) MOC reproduce todos los
        archivos en el directorio a partir del archivo seleccionado para lo que
        no es necesario crear listas de reproducción. Es posible reproducir
        varios archivos o directorios de archivos y después guardar lalista de
        reproducción como un archivo con extensión m3u. Funciona como demonio,
        es decir que se ejecuta en segundo plano por lo que no necesita entorno
        gráfico. Esto quiere decir también que si necesitas usar la terminal, el
        emulador de terminal ó cerrar el entorno gráfico no es necesario detener
        la reproducción ya que ésta sigue activa en segundo plano. Soporta los
        siguientes formatos: mp3, Ogg Vorbis, FLAC, Musepack, Speex, WAVE, AIFF
        y AU entre otros. Soporta Internet stream. Soporta temas de
        configuración.
      </p>

      <div id="outline-container-orge2cf8a0" class="outline-2">
        <h2 id="instalación"><a id="orge2cf8a0"></a>Instalación</h2>
        <div class="outline-text-2" id="text-instalación">
          <pre class="example">
sudo apt install moc
</pre
          >

          <p>
            Alternativamente se puede instalar un plugin para reproducir
            archivos en formatos como WMA, RealAudio, MP4 y ACC.
          </p>

          <pre class="example">
sudo apt install moc-ffmpeg-plugin
</pre
          >
        </div>
      </div>

      <div id="outline-container-org519ef0f" class="outline-2">
        <h2 id="uso"><a id="org519ef0f"></a>Uso</h2>
        <div class="outline-text-2" id="text-uso">
          <p>
            El binario tiene el nombre <b>mocp</b> para evitar problemas con
            otras aplicaciones u otros sistemas.
          </p>

          <p>La sintaxis en la siguiente:</p>

          <pre class="example">
mocp [opciones] [archivo]
</pre
          >

          <p>Las opciones principales son:</p>

          <pre class="example">
-c --clear
   Limpia la lista de reproducción.

-p --play
   Comienza a reproducir desde el primer elemento en la lista de reproducción.

-f --next
   Cambia al siguiente elemento en la lista de reproducción.

-r --previous
   Cambia al elemento anterior en la lista de reproducción.

-s --stop
   Detiene la reproducción.

-P --pause
   Pausa la reproducción.

-U --unpause
   Quita la pausa en la reproducción..

-G --toggle-pause
   Hace el cambio entre reproducir y pausa.

-T --theme
   Usa un tema específico. De no ser una ruta completa el archivo será buscado en /usr/share/moc/themes, ~/.moc/themes y en el actual directorio.
</pre
          >

          <p>
            Se puede lanzar sin parámetros para entrar a la interfaz de ncurses:
          </p>

          <pre class="example">
mocp
</pre
          >

          <p>
            Del lado izquierdo esta el navegador de archivos y del derecho la
            lista de reproducción, se cambia entre una y otra usando la tecla de
            tabulación. A continuación en la parte inferior se encuentran el
            mensaje de información que muestra el estatus del reproductor, el
            volumen, el tiempo total de reproducción, la información sobre la
            pista, tiempo transcurrido, restante y total de la pista, los
            parámetros de sonido, opciones y la barra de reproducción.
          </p>

          <p>
            Los accesos rápidos del teclado pueden verse presionando "h" , aquí
            una lista con los más utilizados:
          </p>

          <pre class="example">
q              Oculta la interfaz de ncurses
ENTER          Comienza la reproducción o entra al directorio
Q              Cierra la aplicación por completo
s              Detiene la reproducción
n              Reproduce el siguiente elemento
b              Reproduce el elemento anterior
p SPACE        Pausa
f              Cambia la opción de leer las etiquetas ó sólo nombrar el archivo
S              Activa/desactiva la reproducción aleatoria
R              Activa/desactiva el repetir la lista después de finalizada
X              Activa/desactiva el reproducir el siguiente elemento automáticamente
TAB            Cambia entre la lista de reproducción y el explorador de archivos
l              Muestra sólo el explorador de archivos ó la lista de reproducción
a              Agrega un archivo/directorio a la lista de reproducción
d              Elimina un archivo de la lista de reproducción
C              Limpia la lista de reproducción
A              Agrega un directorio recursivamente a la lista de reproducción
&lt;              Decrementa el volumen en 1%
&gt;              Incrementa el volumen en 1%
,              Decrementa el volumen en 5%
.              Incrementa el volumen en 5%
V              Guarda la lista de reproducción
x              Alterna los canales del mezclador
K              Selecciona el anterior preset del ecualizador
k              Selecciona el siguiente preset del ecualizador
</pre
          >
        </div>
      </div>

      <div id="outline-container-org9a2e9ec" class="outline-2">
        <h2 id="directorio-de-configuración-.moc">
          <a id="org9a2e9ec"></a>Directorio de configuración: ~/.moc
        </h2>
        <div class="outline-text-2" id="text-directorio-de-configuración-.moc">
          <p>
            El archivo de configuración principal dentro del directorio
            <b>~/.moc</b> es <b>config</b>, este archivo no es necesario para el
            usa de la aplicación, pero si lo es para modificar las preferencias,
            no se crea durante las instalación sino que hay que copiarlo desde
            <b>/usr/share/doc/moc/examples/config.example.gz</b> y
            descomprimirlo en
            <b>~/.moc</b>
          </p>

          <pre class="example">
cp /usr/share/doc/moc/examples/config.example.gz ~/.moc
cd ~/.moc
gzip -d config.example.gz
mv config.example config
</pre
          >

          <p>
            Está muy bien documentado y realmente los cambios son a gusto.
            Normalmente sólo es necesario cambiar unas cuantas líneas para tener
            todo funcionando a gusto, por ejemplo las siguientes: Repeat = yes
            Shuffle = yes SoundDriver = ALSA Theme = black\<sub>theme</sub>
          </p>

          <p>
            Los directorios por defecto para los temas son
            <b>/usr/share/moc/themes</b> y
          </p>
        </div>
      </div>
      <div id="outline-container-org2e14657" class="outline-2">
        <h2 id="org2e14657">
          ~/.moc/themes**. Es posible descargar temas de configuración, o
        </h2>
        <div class="outline-text-2" id="text-org2e14657">
          <p>
            editarlo uno y guardarlo en uno de estos directorios. Básicamente
            cada elemento tiene la siguiente estructura:
          </p>

          <pre class="example">
elemento        = color-de-texto
color-de-fondo  = atributos
</pre
          >

          <p>Los colores permitidos son:</p>

          <pre class="example">
default (sirve como transparencia)
black
red
green
yellow
blue
magenta
cyan
white
grey
</pre
          >

          <p>Los atributos le dan formato al texto y son:</p>

          <p>
            atributo | función -|- normal | default (sin destacado) standout |
            mejor salida underline | subrayado reverse | video inverso blink |
            parpadeo dim | medio brillo bold | negrita protect | modo protegido
          </p>

          <p>
            Ejemplo del archivo
            <b>* ~/.moc/themes/black\<sub>themes</sub>*</b> documentado:
          </p>

          <pre class="example">
# Interfaz de ncurses
background = red default
frame = red default
window_title = yellow default underline,dim

# Archivos, directorios y listas de reproducción
directory = yellow default
selected_directory = yellow default underline
playlist = yellow default
selected_playlist = yellow default
file = yellow default
selected_file = yellow default underline
selected_info           = yellow        default bold

# Elemento que actualmente se está reproduciendo
marked_file = yellow default bold
marked_selected_file = red default bold,underline
marked_info             = blue          default bold
marked_selected_info    = cyan          default

# Estatus
info = yellow default
status = yellow default
title = yellow default
state = yellow default

# Tiempo
current_time = yellow default
time_left = yellow default
total_time = yellow default
time_total_frames = yellow default ~/.mo

# Parámetros de sonido
sound_parameters = yellow default
legend = yellow default
disabled = red default dim
enabled = yellow default bold

# Barra de Volumen
empty_mixer_bar = yellow red
filled_mixer_bar = red yellow

# Barra de reproducción
empty_time_bar = yellow default
filled_time_bar = default yellow

# Guardar lista de reproducción
entry = yellow default
entry_title = yellow default bold

# Mensajes
error = cyan default
message = yellow default

# Tiempo total de la lista de reproducción o directorio
plist_time = yellow default
</pre
          >

          <p>
            Para asociar un tema por default hay que editar el archivo de
            configuración ~/.moc/config y editar la opción "Theme" de esta
            forma: Theme = black\<sub>theme</sub>
          </p>

          <p>
            Es posible usar temas sin necesidad de editar el archivo de
            configuración usando el parámetro <b>-T</b>: mocp -T
            tema\<sub>a</sub>\<sub>usar</sub>
          </p>

          <p>
            También es posible cambiar el tema dentro de la misma interfaz
            ncurses presionando <b>T</b> con lo que se desplegara un menú con
            los temas disponibles.
          </p>
        </div>
      </div>

      <div id="outline-container-org130afaf" class="outline-2">
        <h2 id="ecualizador"><a id="org130afaf"></a>Ecualizador</h2>
        <div class="outline-text-2" id="text-ecualizador">
          <p>
            Moc tiene la opción de utilizar un ecualizador pero necesita de
            algún preset que por default no hay en la carpeta de configuración,
            estos deben estar ubicados en la carpeta <b>* ~/.moc/eqsets</b>. Se
            puede crear uno a mono pero lo más sencillo es descargarlos, en
            internet están disponibles algunos presets convertidos de winamp o
            xmms en un archivo <b>eqsets.tar.gz*</b>. Para utilizarlos basta
            con:
          </p>

          <pre class="example">
cd  ~/.moc/
wget http://ftp.daper.net/pub/soft/moc/contrib/eqsets.tar.gz
tar xvfz eqsets.tar.gz
rm eqsets.tar.gz
</pre
          >

          <p>
            Y ahora dentro de moc hay refrescar la lista de presets presionando
            <b>e</b>, se cambia con <b>k</b> (minúscula) hacia adelante o con
            <b>K</b> (mayúscula) hacia atrás.
          </p>
        </div>

        <div id="outline-container-org810d6d7" class="outline-3">
          <h3 id="problemas-frecuentes">
            <a id="org810d6d7"></a>Problemas frecuentes
          </h3>
          <div class="outline-text-3" id="text-problemas-frecuentes">
            <p>Mensaje de error al lanzar MOC:</p>

            <p>
              #+BEGIN<sub>SRCh</sub> FATAL<sub>ERROR</sub>: Can't send() int to
              the server. / FATAL<sub>ERROR</sub>: Can't receive value from the
              server. #+END<sub>SRC</sub>
            </p>

            <p>Basta con borrar el directorio ~/.moc/cache</p>

            <p>
              #+BEGIN<sub>SRCh</sub> rm -rf ~/.moc/cache #+END<sub>SRC</sub>
            </p>

            <p>y lanzar de nuevo la aplicación.</p>

            <p>
              <b>Fuentes</b>
              archivo recuperado del viejo esdebian man moc
              <a href="https://moc.daper.net/">Moc pagina oficial</a>
            </p>
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">11 dic 2020</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2020-12-11-mplayer-resumer.html"
          >mplayer-resumer</a
        >
      </h1>
      <p>
        Lo unico que le faltaba al bueno de mplayer era poder retomar la
        reprocucción en el punto donde había quedado,
        <b>mplayer-resumer</b> resuelve esta situación.
      </p>

      <div id="outline-container-org6c7a7fe" class="outline-2">
        <h2 id="org6c7a7fe">Descarga</h2>
        <div class="outline-text-2" id="text-org6c7a7fe">
          <pre class="example">
git clone https://github.com/graysky2/mplayer-resumer.git
</pre
          >
        </div>
      </div>

      <div id="outline-container-orgacb515f" class="outline-2">
        <h2 id="orgacb515f">Instalación</h2>
        <div class="outline-text-2" id="text-orgacb515f">
          <p>
            El paquete clonado viene con un archivo <b><b>INSTALL</b></b> con
            las dependencias e instrucciones necesarias:
          </p>

          <ul class="org-ul">
            <li>Dpendencias</li>
          </ul>

          <pre class="example">
mplayer or mplayer2
perl
perl-shell (http://search.cpan.org/dist/Shell/)
</pre
          >

          <ul class="org-ul">
            <li>Building</li>
          </ul>

          <pre class="example">
$ make
# make install
</pre
          >

          <p>
            Si el script es reiniciado a los 5 segundos (con $tdiff 5 segundos
            por defecto) entonces borrará el archivo usado para mantener la
            posición del vídeo.
          </p>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">20 nov 2020</div>
      <h1 class="post-title">
        <a
          href="https://martiyo.github.io/2020-11-20-instalar-mongodb-con-docker.html"
          >Instalar mongodb con docker</a
        >
      </h1>
      <p>Instalación y ejecución de mongodb en docker.</p>

      <pre class="example">
docker run -d -p 27017:27017 --name mydatabase mongo:4.2
</pre
      >

      <div id="outline-container-orgfb34755" class="outline-2">
        <h2 id="orgfb34755">Este comando hace lo siguiente:</h2>
        <div class="outline-text-2" id="text-orgfb34755"></div>
        <ul class="org-ul">
          <li>
            <a id="orgd8b6fcf"></a><b>d:</b> permite ejecutar el proceso en
            background<br />
          </li>
          <li>
            <a id="org94fd546"></a><b>-p</b> 27017:27017 esto le indica a docker
            que las conexiones del puerto 27017 del contenedor se redireccionen
            al 27017 de la máquina host.<br />
          </li>
          <li>
            <a id="org8996c33"></a><b>-name mydatabase</b>: nombre que se le
            asigna al contenedor.<br />
          </li>
          <li>
            <a id="org105a0ec"></a><b>mongo:4.2</b>: nombre de la imagen y
            version.<br />
            <div class="outline-text-5" id="text-org105a0ec">
              <p>Con esto queda listo el contenedor.</p>
            </div>
          </li>
        </ul>
      </div>

      <div id="outline-container-org03593e7" class="outline-2">
        <h2 id="org03593e7">
          Para conectarse al contenedor se usa el comando <code>exec</code> de
          docker
        </h2>
        <div class="outline-text-2" id="text-org03593e7">
          <pre class="example">
docker exec -it mydatabase bash
</pre
          >
        </div>

        <ul class="org-ul">
          <li>
            <a id="orgcca75f4"></a><b>-it</b>: ejecutar el contenedor de manera
            intenctiva y que la terminal tome el control de instrucccion que
            sigue al final.<br />
          </li>
          <li>
            <a id="orga6ea904"></a><b>mydatabase</b>: nombre del contendor a
            usar.<br />
          </li>
          <li>
            <a id="org7dbd41a"></a><b>bash</b>: comando a ejecutar al final,
            osea, que acceda a las shell del contenedor.<br />
            <div class="outline-text-5" id="text-org7dbd41a">
              <p>
                Con este comando se ingresa al contenedor recien creado (para
                ejecutar un contenedor creado anteriormente, pero no ingresar en
                el contenedor, solo ejecutar la db!, el comando es
                <code>docker start name</code>). Una vez dentro del contenedor
                hay que ejecutar: <code>mogno</code>
              </p>

              <p>
                <b>Fuentes</b>
                <a
                  href="https://platzi.com/tutoriales/1533-mongodb/4930-instalar-mongo-db-usando-docker/"
                  >platzi.com</a
                >
                <a
                  href="https://www.hostinger.es/tutoriales/como-crear-contenedor-docker/"
                  >hostinger-tutorials</a
                >
              </p>
            </div>
          </li>
        </ul>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">06 nov 2020</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2020-11-06-instalar-docker.html"
          >Instalar Docker engine usando el repositorio</a
        >
      </h1>
      <p>
        Instalando desde el repositorio despues podés actualizarlo
        automaticamente.
      </p>

      <div id="outline-container-orgb06587f" class="outline-2">
        <h2 id="orgb06587f">Set up del repositorio</h2>
        <div class="outline-text-2" id="text-orgb06587f">
          <p>
            Actualizar el indice de paquetes de apt e instalar los paquetes
            necesarios para permitir a apt usar un repositorio sobre https:
          </p>

          <pre class="example">
$ sudo apt-get update

$ sudo apt-get install \
apt-transport-https \
ca-certificates \
curl \
gnupg-agent \
software-properties-common
</pre
          >
        </div>
      </div>

      <div id="outline-container-orgd2f598d" class="outline-2">
        <h2 id="orgd2f598d">Agregar la clave oficial de GPG de Docker:</h2>
        <div class="outline-text-2" id="text-orgd2f598d">
          <pre class="example">
$ curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -
</pre
          >

          <p><b>*</b> Verificar la llave con la huella</p>

          <p>9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88</p>

          <pre class="example">
$ sudo apt-key fingerprint 0EBFCD88

pub   4096R/0EBFCD88 2017-02-22
    Key fingerprint = 9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88
    uid                  Docker Release (CE deb) &lt;docker@docker.com&gt;
    sub   4096R/F273FCD8 2017-02-22
</pre
          >
        </div>
      </div>

      <div id="outline-container-orga447e8c" class="outline-2">
        <h2 id="orga447e8c">Agregar el repositorio al sources.list</h2>
        <div class="outline-text-2" id="text-orga447e8c">
          <pre class="example">
$ sudo add-apt-repository \
  "deb [arch=amd64] https://download.docker.com/linux/debian \
  $(lsb_release -cs) \
  stable"
</pre
          >
        </div>
      </div>

      <div id="outline-container-org6365b08" class="outline-2">
        <h2 id="org6365b08">Inatalar Docker Engine</h2>
        <div class="outline-text-2" id="text-org6365b08">
          <pre class="example">
$ sudo apt-get update
$ sudo apt-get install docker-ce docker-ce-cli containerd.io
</pre
          >

          <p>
            Para usar Docker como usuario normal hay que agregar el usuario al
            grupo "docker":
          </p>

          <pre class="example">
sudo usermod -aG docker your-user
</pre
          >

          <p>Cerrar sesion y volver a entrar para que esto tenga efecto.</p>

          <p>
            <b>Fuente</b>
          </p>

          <p>
            Resumen de
            <a href="https://docs.docker.com/engine/install/debian/"
              >doc.docker.com</a
            >
          </p>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">24 feb 2020</div>
      <h1 class="post-title">
        <a
          href="https://martiyo.github.io/2020-02-24-gestion-de-permisos-en-linux.html"
          >Gestión de permisos en linux</a
        >
      </h1>
      <p>Permisos de acceso a archivos y directorios.</p>

      <div id="outline-container-org48e548b" class="outline-2">
        <h2 id="org48e548b">Permisos de acceso a archivos y directorios</h2>
        <div class="outline-text-2" id="text-org48e548b">
          <p>
            La mayoría de los sistemas de archivos modernos permiten asignar
            permisos (o derechos de acceso) a los archivos para determinados
            usuarios y grupos de usuarios. De esta manera, se puede restringir o
            permitir el acceso de un determinado usuario a un archivo para su
            visualización de contenidos, modificación y/o ejecución (en caso de
            un archivo ejecutable).
          </p>
        </div>
      </div>

      <div id="outline-container-orgb630592" class="outline-2">
        <h2 id="orgb630592">Chmod</h2>
        <div class="outline-text-2" id="text-orgb630592">
          <p>
            chmod ("change mode", cambiar modo en idioma inglés) es una llamada
            al sistema y su comando asociado en el sistema operativo UNIX
            (estandarizados en POSIX y otros estándares) que permite cambiar los
            permisos de acceso de un fichero o directorio.
          </p>
        </div>

        <div id="outline-container-orgf14b336" class="outline-3">
          <h3 id="orgf14b336">Ejemplos</h3>
          <div class="outline-text-3" id="text-orgf14b336">
            <div class="org-src-container">
              <pre class="src src-sh">
sudo chmod {a, u, g, o}{+, -}{r, w, x} archivo
</pre
              >
            </div>

            <ul class="org-ul">
              <li>a: todos los usuarios (all)</li>
              <li>o: otros usuarios</li>
              <li>u: propietario</li>
              <li>g: grupo propietario</li>
              <li>+: añade permiso</li>
              <li>-: quita permiso</li>
              <li>r: permiso de lectura</li>
              <li>w: permiso de escritura</li>
              <li>x: permiso de ejecución</li>
            </ul>

            <div class="org-src-container">
              <pre class="src src-sh">
sudo chmod u+rwx 
</pre
              >
            </div>

            <p>le da todos los permisos al propietario</p>

            <div class="org-src-container">
              <pre class="src src-sh">
sudo chmod ug+rwx 
</pre
              >
            </div>

            <p>le da todos los permisos al propietario y al grupo</p>
          </div>

          <div id="outline-container-orga121a30" class="outline-4">
            <h4 id="orga121a30">Clases de usuarios</h4>
            <div class="outline-text-4" id="text-orga121a30">
              <p>
                Los permisos de sistemas UNIX se dividen en cuatro clases,
                conocidas como usuario, grupo, otros y todos (con frecuencia
                abreviado UGOA por sus siglas en inglés).
              </p>

              <p>
                Por lo tanto, las clases de usuarios a los cuales se les puede
                asignar los permisos básicos anteriormente mencionados son:
              </p>

              <p>
                u &#x2013; usuario: dueño del fichero o directorio g &#x2013;
                grupo: grupo al que pertenece el fichero o &#x2013; otros: todos
                los demás usuarios que no son el dueño ni del grupo a &#x2013;
                todos: incluye al dueño, al grupo y a otros Los permisos
                efectivos aplicados a un determinado usuario en relación a un
                fichero se determinan en un orden lógico de precedencia. Por
                ejemplo, el usuario propietario del fichero tendrá los permisos
                efectivos dados a la clase de usuario, sin importar los
                asignados a la clase de grupo o a la clase de otros.
              </p>
            </div>
          </div>

          <div id="outline-container-org10dcc55" class="outline-4">
            <h4 id="org10dcc55">Modo octal</h4>
            <div class="outline-text-4" id="text-org10dcc55">
              <p>
                Las posibles combinaciones se resumen en números octales de tres
                dígitos del 000 al 777, cada uno de los cuales permite
                establecer un tipo de permiso distinto a cada clase de usuario
              </p>

              <p>Osea</p>

              <ul class="org-ul">
                <li>
                  0 = Ningún permiso (Lectura = 0 + Escritura = 0 + Ejecución =
                  0)
                </li>
                <li>
                  1 = Permiso de Ejecución (Lectura = 0 + Escritura = 0 +
                  Ejecución = 1)
                </li>
                <li>
                  2 = Permiso de Escritura (Lectura = 0 + Escritura = 2 +
                  Ejecución = 0)
                </li>
                <li>
                  3 = Permiso de Escritura y Ejecución (Lectura = 0, Escritura =
                  2, Ejecución = 1)
                </li>
                <li>
                  4 = Permiso de Lectura (Lectura = 4 + Escritura = 0 +
                  Ejecución = 0)
                </li>
                <li>
                  5 = Permiso de Lectura y Ejecución (Lectura = 4 + Escritura =
                  0 + Ejecución = 1)
                </li>
                <li>
                  6 = Permiso de Lectura y Escritura (Lectura = 4 + Escritura =
                  2 + Ejecución = 0)
                </li>
                <li>
                  7 = Permiso de Lectura, Escritura y Ejecución (Lectura = 4 +
                  Escritura = 2 + Ejecución = 1)
                </li>
              </ul>

              <p>Concretamente</p>

              <ul class="org-ul">
                <li>
                  644: propietario 6 (lectura-escritura), grupo 4 (solo
                  lectura), otros 4 (solo lectura)
                </li>
                <li>
                  751: propietario 7 (lectura-escritura-ejecución), grupo 5
                  (lectura y ejecución) y otro 1 (sólo ejecución)
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">10 feb 2019</div>
      <h1 class="post-title">
        <a
          href="https://martiyo.github.io/2019-02-10-linux,-comandos,-trucos-y-cosas-utiles.html"
          >Linux, comandos, trucos y cosas utiles</a
        >
      </h1>
      <p>Un rejunte de cosas útiles que voy encontrando por ahí&#x2026;</p>

      <div id="outline-container-org08c9755" class="outline-2">
        <h2 id="org08c9755">Eliminar kernels viejos</h2>
        <div class="outline-text-2" id="text-org08c9755">
          <ul class="org-ul">
            <li>
              Verificar que kernel se está usando, con esto se cual es el que
              debo dejar instalado.
            </li>
          </ul>

          <div class="org-src-container">
            <pre class="src src-sh">
$ uname -r
</pre
            >
          </div>

          <p>
            Este comando devuelve el kernel que estoy utilizando, en mi caso
            2.6.26-2-686.
          </p>

          <ul class="org-ul">
            <li>
              Buscar los kernels que estan instalados, para indentificar los que
              ya no sirven:
            </li>
          </ul>

          <div class="org-src-container">
            <pre class="src src-sh">
# dpkg --get-selections | grep linux-image
</pre
            >
          </div>

          <p>
            Esto devolverá una lista que contiene todos los kernels disponibles
            en el sistema. Ejemplo:
          </p>

          <p>
            linux-image-2.6-686 install linux-image-2.6.26-1-686 install
            linux-image-2.6.26-2-686 install elections | grep linux-image
          </p>

          <ul class="org-ul">
            <li>
              Borrar los kernels sobrantes, teniendo cuidado de no eliminar el
              que se esta usando
            </li>
          </ul>

          <div class="org-src-container">
            <pre class="src src-sh">
#apt-get remove -purge linux-image-2.6.26-1-686
</pre
            >
          </div>
        </div>

        <div id="outline-container-org0fa1a05" class="outline-3">
          <h3 id="org0fa1a05">Otra forma de hacer todo lo anterior es:</h3>
          <div class="outline-text-3" id="text-org0fa1a05">
            <div class="org-src-container">
              <pre class="src src-sh">
# aptitude search linux-image | grep ^i
</pre
              >
            </div>

            <p>
              Que da el mismo resultado, pero un poco mas detallado:
              linux-image-2.6-686 - imagen de Linux 2.6 para PPro/Celeron/PII/ i
              A linux-image-2.6.26-1-686 - Linux 2.6.26 image on
              PPro/Celeron/PII/PII i A linux-image-2.6.26-2-686 - Linux 2.6.26
              image on PPro/Celeron/PII/PII
            </p>

            <p>
              Para eliminar además los headers del kernel viejo, buscar con:
            </p>

            <div class="org-src-container">
              <pre class="src src-sh">
aptitude search 2.6.26 | grep ^i
</pre
              >
            </div>

            <p>
              esto da otra lista con los headers instalados, seleccionar el que
              se va a eliminar:
            </p>

            <div class="org-src-container">
              <pre class="src src-sh">
aptitude purge linux-headers-2.6.26-1
</pre
              >
            </div>
          </div>
        </div>
      </div>

      <div id="outline-container-org1131ac9" class="outline-2">
        <h2 id="org1131ac9">Uuid</h2>
        <div class="outline-text-2" id="text-org1131ac9">
          <div class="org-src-container">
            <pre class="src src-sh">
### uuid
$ls -l /dev/disk/by-uuid
#blkid
</pre
            >
          </div>
        </div>
      </div>

      <div id="outline-container-org256b420" class="outline-2">
        <h2 id="org256b420">Liberar memoria ram</h2>
        <div class="outline-text-2" id="text-org256b420">
          <p>RAM que se está empleando en tiempo real:</p>

          <div class="org-src-container">
            <pre class="src src-sh">
$watch -n 1 free -m
</pre
            >
          </div>

          <p>eliminar la memoria que no se usa:</p>

          <div class="org-src-container">
            <pre class="src src-sh">
$sysctl -w vm.drop_caches=3
</pre
            >
          </div>
        </div>
      </div>

      <div id="outline-container-org16831e8" class="outline-2">
        <h2 id="org16831e8">Fecha de instalcion del sistema</h2>
        <div class="outline-text-2" id="text-org16831e8">
          <p>(Creacion del sistema de archivos raiz)</p>

          <div class="org-src-container">
            <pre class="src src-sh">
$ls -lct /etc | tail -1 | awk '{print $6, $7, $8}'
jun 3 2016
</pre
            >
          </div>

          <p>otra forma:</p>

          <div class="org-src-container">
            <pre class="src src-sh">
$sudo tune2fs -l /dev/sda1 | grep "created"
Filesystem created:       Fri Jun  3 23:25:38 2016
</pre
            >
          </div>
        </div>
      </div>

      <div id="outline-container-orgceb9513" class="outline-2">
        <h2 id="orgceb9513">Como evitar que algunos paquetes se actualicen</h2>
        <div class="outline-text-2" id="text-orgceb9513">
          <div class="org-src-container">
            <pre class="src src-sh">
$echo "paquete hold" | sudo dpkg --set-selections
</pre
            >
          </div>

          <p>
            ver cuales son los paquetes que estan marcados para no actualizarse
            así:
          </p>

          <div class="org-src-container">
            <pre class="src src-sh">
$ sudo dpkg --get-selections
</pre
            >
          </div>
        </div>
      </div>

      <div id="outline-container-orgce7af57" class="outline-2">
        <h2 id="orgce7af57">capturar pantalla</h2>
        <div class="outline-text-2" id="text-orgce7af57">
          <p>
            Una forma fácil de tomar una captura de pantalla del sistema actual
            es usar el comando de import :
          </p>

          <div class="org-src-container">
            <pre class="src src-sh">
$ import -window root screenshot.jpg
</pre
            >
          </div>

          <p>import es parte del paquete imagemagick .</p>

          <blockquote>
            <p>
              La ejecución de import sin la opción -window permite seleccionar
              una ventana o una región arbitraria de forma interactiva.
            </p>
          </blockquote>
        </div>
      </div>

      <div id="outline-container-orgba00dca" class="outline-2">
        <h2 id="orgba00dca">Configurar xterm</h2>
        <div class="outline-text-2" id="text-orgba00dca">
          <p>Editar el archivo .Xresources y recargar</p>

          <div class="org-src-container">
            <pre class="src src-sh">
xrdb -merge .Xresources
</pre
            >
          </div>
        </div>
      </div>

      <div id="outline-container-org0edf90b" class="outline-2">
        <h2 id="org0edf90b">Youtube-dl</h2>
        <div class="outline-text-2" id="text-org0edf90b">
          <p>
            Actualmente Youtube-dl permite descargar videos y audio de más de
            800 sitios web.
          </p>

          <p>Formatos disponibles para descargar:</p>

          <p>youtube-dl -F URL</p>

          <p>Selecionar un formato de la lista de formatos disponibles:</p>

          <p>youtube-dl -f 22 URL</p>

          <p>Extraer el audio de un video en un archivo con formato mp3:</p>

          <p>youtube-dl &#x2013;extract-audio &#x2013;audio-format mp3 URL</p>

          <p>
            Extraer el audio de un video en un archivo con formato mp3
            definiendo la calidad del audio:
          </p>

          <p>
            youtube-dl &#x2013;extract-audio &#x2013;audio-format mp3
            &#x2013;audio-quality 128K URL
          </p>

          <p>Ver ideos en streaming atravez de mplayer:</p>

          <p>mplayer $(youtube-dl -g -f 22 URL)</p>

          <p>
            Para descargar una gran cantidad de videos se crea un archivo con
            las URLs de los videos y luego se le pasa como parametro el archivo
            anteponiendo el flag -a:
          </p>

          <p>youtube-dl -a archivo.txt</p>

          <p>
            Fuente
            <a href="https://geekland.eu/descargar-videos-internet-youtube-dl/"
              >https://geekland.eu/descargar-videos-internet-youtube-dl/</a
            >
          </p>
        </div>
      </div>

      <div id="outline-container-org57292a4" class="outline-2">
        <h2 id="org57292a4">E2fsprogs</h2>
        <div class="outline-text-2" id="text-org57292a4">
          <p>
            El paquete e2fsprogs (también llamado programas e2fs) es un conjunto
            de utilidades para mantenimiento de los sistemas de ficheros ext2,
            ext3 y ext4. Debido a que estos son generalmente los sistemas de
            archivos por defecto en las distribuciones Linux, comúnmente se
            considera al paquete e2fsprogs software esencial.
          </p>

          <p>e2fsprogs incluye:</p>

          <ul class="org-ul">
            <li>
              e2fsck, un programa fsck que busca y corrige inconsistencias;
            </li>
            <li>
              mke2fs, usado para crear sistemas de archivos ext2, ext3, y ext4;
            </li>
            <li>
              resize2fs, que puede expandir y contraer sistemas de archivos
              ext2, ext3, y ext4;
            </li>
            <li>
              tune2fs, usado para modificar los parámetros en el sistema de
              archivos;
            </li>
            <li>
              dumpe2fs, que muestra la información de bloques y superbloques;
            </li>
            <li>
              debugfs, usado para visualizar o modificar estructuras internas
              del sistema de archivos manualmente.
            </li>
          </ul>
        </div>

        <div id="outline-container-org4f0dd12" class="outline-3">
          <h3 id="org4f0dd12">Tune2fs</h3>
          <div class="outline-text-3" id="text-org4f0dd12">
            <div class="org-src-container">
              <pre class="src src-sh">
# tune2fs -c 80 /dev/sda1 (cada 80 reinicios)
# tune2fs -i 2m /dev/sda1 (cada 2 meses)
# tune2fs -i 2w /dev/hda3 (cada 2 semanas)
# tune2fs -i 2d /dev/sda1 (cada 2 días)
</pre
              >
            </div>

            <p>para corregir el error <b>cloud be norrower &#x2026;</b></p>

            <div class="org-src-container">
              <pre class="src src-sh">
sudo e2fsck -fy /dev/sda1
</pre
              >
            </div>
          </div>
        </div>
      </div>

      <div id="outline-container-org101ff96" class="outline-2">
        <h2 id="org101ff96">Nano</h2>
        <div class="outline-text-2" id="text-org101ff96">
          <p>
            <b>Seleccionar:</b>
          </p>

          <pre class="example">
Alt + a
</pre
          >

          <p>
            <b>Copiar:</b>
          </p>

          <pre class="example">
Alt + 6
</pre
          >

          <p>
            <b>Pegar:</b>
          </p>

          <pre class="example">
Ctrl + u
</pre
          >

          <p>Archivo de configuración:</p>

          <pre class="example">
**/etc/nanorc**
</pre
          >

          <p>Resaltar sistaxis</p>
        </div>
        <div id="outline-container-orgdab2f3c" class="outline-3">
          <h3 id="orgdab2f3c">HTML</h3>
          <div class="outline-text-3" id="text-orgdab2f3c">
            <p>include "/usr/share/nano/html.nanorc"</p>
          </div>
        </div>

        <div id="outline-container-org4188044" class="outline-3">
          <h3 id="org4188044">Manpages</h3>
          <div class="outline-text-3" id="text-org4188044">
            <p>include "/usr/share/nano/man.nanorc"</p>
          </div>
        </div>

        <div id="outline-container-org9520c40" class="outline-3">
          <h3 id="org9520c40">Python</h3>
          <div class="outline-text-3" id="text-org9520c40">
            <p>include "/usr/share/nano/python.nanorc"</p>
          </div>
        </div>

        <div id="outline-container-org9145645" class="outline-3">
          <h3 id="org9145645">Bourne shell scripts</h3>
          <div class="outline-text-3" id="text-org9145645">
            <p>include "/usr/share/nano/sh.nanorc"</p>
          </div>
        </div>

        <div id="outline-container-org89fde2a" class="outline-3">
          <h3 id="org89fde2a">Javascript</h3>
          <div class="outline-text-3" id="text-org89fde2a">
            <p>include "/usr/share/nano/javascript.nanorc"</p>
          </div>
        </div>

        <div id="outline-container-org96fa427" class="outline-3">
          <h3 id="org96fa427">Json</h3>
          <div class="outline-text-3" id="text-org96fa427">
            <p>include "/usr/share/nano/json.nanorc"</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org91babf0" class="outline-2">
        <h2 id="org91babf0">Sudo</h2>
        <div class="outline-text-2" id="text-org91babf0">
          <p>
            Para dar permisos de root a un usuario, en el archivo
            <b>/etc/sudoers</b>
            agregar:
          </p>

          <div class="org-src-container">
            <pre class="src src-sh">
nombre_usuario ALL=(ALL) 
</pre
            >
          </div>

          <p>para que no pida contraseña:</p>

          <div class="org-src-container">
            <pre class="src src-sh">
nombre_usuario ALL=(ALL) NOPASSWD: ALL
</pre
            >
          </div>
        </div>
      </div>

      <div id="outline-container-org5ce6758" class="outline-2">
        <h2 id="org5ce6758">Limpiar cache</h2>
        <div class="outline-text-2" id="text-org5ce6758">
          <div class="org-src-container">
            <pre class="src src-sh">
sudo su
sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches
exit
</pre
            >
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">Linux</a>
      </div>

      <div class="post-date">08 dic 2018</div>
      <h1 class="post-title">
        <a
          href="https://martiyo.github.io/2018-12-08-ffmpeg-video-converter.html"
          >ffmpeg video converter</a
        >
      </h1>

      <div id="outline-container-orgc019ace" class="outline-2">
        <h2 id="wikipedia"><a id="orgc019ace"></a>Wikipedia</h2>
        <div class="outline-text-2" id="text-wikipedia">
          <p>
            FFmpeg es una colección de software libre que puede grabar,
            convertir (transcodificar) y hacer streaming de audio y vídeo.
            Incluye libavcodec, una biblioteca de códecs. FFmpeg está
            desarrollado en GNU/Linux, pero puede ser compilado en la mayoría de
            los sistemas operativos. FFmpeg es un programa bastante sencillo y
            muy fácil de usar, orientado tanto a personas con conocimientos
            avanzados como usuarios novatos. Es capaz de elegir el códec con
            sólo escribir la extensión. Por ejemplo, FFmpeg usará x264 si
            elegimos .mp4, mpeg4 si usamos .avi, VP8 si usamos .webm,
            etc&#x2026; Esta es una recopilación de ejemplos de cosas útiles que
            se pueden hacer con ffmpeg, como puede ser convertir vídeos para
            PSP, iPod o iPhone, extraer el audio de un vídeo o extraer imágenes
            de un vídeo.
          </p>
        </div>

        <div id="outline-container-org52fed73" class="outline-4">
          <h4 id="obtener-información-de-un-video">
            <a id="org52fed73"></a>Obtener información de un video
          </h4>
          <div class="outline-text-4" id="text-obtener-información-de-un-video">
            <pre class="example">
ffmpeg -i video.avi
</pre
            >
          </div>
        </div>

        <div id="outline-container-orgcca574c" class="outline-4">
          <h4 id="combinar-una-serie-de-imágenes-en-un-video">
            <a id="orgcca574c"></a>Combinar una serie de imágenes en un video
          </h4>
          <div
            class="outline-text-4"
            id="text-combinar-una-serie-de-imágenes-en-un-video"
          >
            <pre class="example">
ffmpeg -f imagen1.jpg -i imagen%d.jpg video.mpg
</pre
            >

            <p>
              Este comando convierte todas las imagenes del directorio
              actual(con nombres imagen1.jpg, imagen2.jpg, etc&#x2026;)en un
              video llamado video.mpg.
            </p>
          </div>
        </div>

        <div id="outline-container-org7a242ff" class="outline-4">
          <h4 id="añadir-de-un-archivo-de-audio-en-un-video">
            <a id="org7a242ff"></a>Añadir de un archivo de audio en un video
          </h4>
          <div
            class="outline-text-4"
            id="text-añadir-de-un-archivo-de-audio-en-un-video"
          >
            <pre class="example">
ffmpeg -i audio.wav -i video_entrada.avi video_salida.mpg
</pre
            >
          </div>
        </div>

        <div id="outline-container-orgeea1f1f" class="outline-4">
          <h4 id="convertir-un-vídeo-en-imágenes">
            <a id="orgeea1f1f"></a>Convertir un vídeo en imágenes
          </h4>
          <div class="outline-text-4" id="text-convertir-un-vídeo-en-imágenes">
            <pre class="example">
ffmpeg -i video.mpg imagen%d.jpg
</pre
            >

            <p>
              Con este comando se crearan varias imágenes imagen1.jpg,
              imagen2.jpg, &#x2026; Para las imágenes resultantes se pueden usar
              los formatos PGM, PPM, PAM, PGMYUV, JPEG, GIF, PNG, TIFF o SGI.
            </p>
          </div>
        </div>

        <div id="outline-container-org9695f69" class="outline-4">
          <h4 id="convertir-video-para-smartv-server-minidlna">
            <a id="org9695f69"></a>Convertir video para SmarTV (Server MiniDLNA)
          </h4>
          <div
            class="outline-text-4"
            id="text-convertir-video-para-smartv-server-minidlna"
          >
            <pre class="example">
ffmpeg -i LaBellaylaBestia.mkv -c:a libmp3lame -b:v 2500k -b:a 150k LaBellaylaBestia.avi
</pre
            >

            <p>
              Cambiando los valores de -b:v se puede aumentar o disminuir la
              calidad del archivo de salida y tambien su tamaño.
            </p>
          </div>
        </div>

        <div id="outline-container-org29756b7" class="outline-4">
          <h4 id="extraer-el-sonido-de-un-vídeo-y-guardarlo-como-mp3">
            <a id="org29756b7"></a>Extraer el sonido de un vídeo, y guardarlo
            como MP3
          </h4>
          <div
            class="outline-text-4"
            id="text-extraer-el-sonido-de-un-vídeo-y-guardarlo-como-mp3"
          >
            <pre class="example">
ffmpeg -i video.avi -vn -ar 44100 -ac 2 -ab 192 -f mp3 audio.mp3
</pre
            >

            <ul class="org-ul">
              <li>Video original: video.avi</li>
              <li>Codec de audio: mp3</li>
              <li>Bitrate del audio: 192kb/s</li>
              <li>Archivo generado: audio.mp3</li>
            </ul>
          </div>
        </div>

        <div id="outline-container-org8f6bc59" class="outline-4">
          <h4 id="convertir-un-wav-en-mp3">
            <a id="org8f6bc59"></a>Convertir un wav en MP3
          </h4>
          <div class="outline-text-4" id="text-convertir-un-wav-en-mp3">
            <pre class="example">
ffmpeg -i audio.wav -ar 44100 audio.mp3
</pre
            >
          </div>
        </div>

        <div id="outline-container-orgc8f6de8" class="outline-4">
          <h4 id="convertir-un-avi-a-mpg">
            <a id="orgc8f6de8"></a>Convertir un avi a mpg
          </h4>
          <div class="outline-text-4" id="text-convertir-un-avi-a-mpg">
            <pre class="example">
ffmpeg -i entrada.avi salida.mpg
</pre
            >
          </div>
        </div>

        <div id="outline-container-orge55c6ef" class="outline-4">
          <h4 id="convertir-un-mpg-a-avi">
            <a id="orge55c6ef"></a>Convertir un mpg a avi
          </h4>
          <div class="outline-text-4" id="text-convertir-un-mpg-a-avi">
            <pre class="example">
ffmpeg -i entrada.mpg salida.avi
</pre
            >
          </div>
        </div>

        <div id="outline-container-org02601af" class="outline-4">
          <h4 id="convertir-un-avi-a-gif">
            <a id="org02601af"></a>Convertir un avi a gif
          </h4>
          <div class="outline-text-4" id="text-convertir-un-avi-a-gif">
            <pre class="example">
ffmpeg -i entrada.avi salida.gif
</pre
            >
          </div>
        </div>

        <div id="outline-container-org340718e" class="outline-4">
          <h4 id="convertir-avi-a-flv">
            <a id="org340718e"></a>Convertir avi a flv
          </h4>
          <div class="outline-text-4" id="text-convertir-avi-a-flv">
            <pre class="example">
ffmpeg -i entrada.avi -ab 56 -ar 44100 -b 200 -r 15 -s 320×240 -f flv salida.flv
</pre
            >
          </div>
        </div>

        <div id="outline-container-org3867a09" class="outline-4">
          <h4 id="convertir-avi-a-dv">
            <a id="org3867a09"></a>Convertir avi a dv
          </h4>
          <div class="outline-text-4" id="text-convertir-avi-a-dv">
            <pre class="example">
ffmpeg -i entrada.avi -s pal -r pal -aspect 4:3 -ar 48000 -ac 2 salida.dv
</pre
            >

            <p>o bien</p>

            <pre class="example">
ffmpeg -i entrada.avi -target pal-dv salida.dv
</pre
            >
          </div>
        </div>

        <div id="outline-container-orgc5516ea" class="outline-4">
          <h4 id="convertir-avi-a-mpeg-para-reproductores-de-dvd">
            <a id="orgc5516ea"></a>Convertir avi a mpeg para reproductores de
            dvd
          </h4>
          <div
            class="outline-text-4"
            id="text-convertir-avi-a-mpeg-para-reproductores-de-dvd"
          >
            <pre class="example">
ffmpeg -i entrada.avi -target pal-dvd -ps 2000000000 -aspect 16:9 salida.mpeg
</pre
            >

            <ul class="org-ul">
              <li>target pal-dvd: Formato de salida</li>
              <li>
                ps 2000000000: Tamaño máximo del archivo resultante en bits (en
                el ejemplo, 2Gb)
              </li>
              <li>aspect 16:9: Panorámico</li>
            </ul>
          </div>
        </div>

        <div id="outline-container-org64519e4" class="outline-4">
          <h4 id="comprimir-avi-a-divx">
            <a id="org64519e4"></a>Comprimir avi a divx
          </h4>
          <div class="outline-text-4" id="text-comprimir-avi-a-divx">
            <pre class="example">
ffmpeg -i entrada.avi -s 320×240 -vcodec msmpeg4v2 salida.avi
</pre
            >
          </div>
        </div>

        <div id="outline-container-org1df477f" class="outline-4">
          <h4 id="comprimir-ogg-theora-a-mpeg-dvd">
            <a id="org1df477f"></a>Comprimir Ogg Theora a Mpeg dvd
          </h4>
          <div class="outline-text-4" id="text-comprimir-ogg-theora-a-mpeg-dvd">
            <pre class="example">
ffmpeg -i entrada.ogm -s 720×576 -vcodec mpeg2video -acodec mp3 salida.mpg
</pre
            >
          </div>
        </div>

        <div id="outline-container-orgd6e49f0" class="outline-4">
          <h4 id="comprimir-avi-a-svcd-mpeg2">
            <a id="orgd6e49f0"></a>Comprimir avi a SVCD mpeg2
          </h4>
          <div class="outline-text-4" id="text-comprimir-avi-a-svcd-mpeg2">
            <p>Para PAL:</p>

            <pre class="example">
ffmpeg -i entrada.avi -target pal-svcd salida.mpg
</pre
            >

            <p>Para NTSC:</p>

            <pre class="example">
ffmpeg -i entrada.avi -target ntsc-svcd salida.mpg
</pre
            >
          </div>
        </div>

        <div id="outline-container-org3810ccf" class="outline-4">
          <h4 id="comprimir-avi-a-vcd-mpeg2">
            <a id="org3810ccf"></a>Comprimir avi a VCD mpeg2
          </h4>
          <div class="outline-text-4" id="text-comprimir-avi-a-vcd-mpeg2">
            <p>Para PAL:</p>

            <pre class="example">
ffmpeg -i entrada.avi -target pal-vcd salida.mpg
</pre
            >

            <p>Para NTSC:</p>

            <pre class="example">
ffmpeg -i entrada.avi -target ntsc-vcd salida.mpg
</pre
            >
          </div>
        </div>

        <div id="outline-container-org4332034" class="outline-4">
          <h4 id="codificación-con-varias-pasadas">
            <a id="org4332034"></a>Codificación con varias pasadas
          </h4>
          <div class="outline-text-4" id="text-codificación-con-varias-pasadas">
            <pre class="example">
ffmpeg -i entrada -pass 2 -passlogfile ffmpeg2pass salida
</pre
            >
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">01 dic 2018</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2018-12-01-update-alternatives.html"
          >Update-alternatives</a
        >
      </h1>
      <p>Gestión de enlaces simbólicos</p>

      <div id="outline-container-orgf4bc9fa" class="outline-2">
        <h2 id="orgf4bc9fa">El directorio /etc/alternatives</h2>
        <div class="outline-text-2" id="text-orgf4bc9fa">
          <p>
            El directorio <b>/etc/alternatives</b> contiene un conjunto de
            enlaces simbólicos a los binarios que por defecto utliza el sistema,
            es una especie de "Aplicaciónes predeterminadas o por defecto". A
            veces hay diferentes programas que brindan la misma funcionalidad o
            diferentes versiones de un mismo programa y se necesita usar un
            programa en especial o una version especifica,
            <b>update-alternatives</b> es un script escrito en perl que
            proporciona una manera de asegurar cual sera la aplicación por
            defecto entre varias instaladas para el mismo proposito.
          </p>
        </div>

        <div id="outline-container-org770f6dd" class="outline-3">
          <h3 id="org770f6dd">Ejemplos</h3>
          <div class="outline-text-3" id="text-org770f6dd">
            <p>
              En <b>Devuan</b> el editor por defecto es nano, para cambiarlo
              <b>update-alternatives</b> usa el flag <b>&#x2013;config</b>:
            </p>

            <div class="org-src-container">
              <pre class="src src-sh">
sudo update-alternatives --config editor
</pre
              >
            </div>

            <figure>
              <img src="./images/up-alter.png" alt="up-alter.png" />
            </figure>

            <p>Para ver el estado actual:</p>

            <div class="org-src-container">
              <pre class="src src-sh">
sudo update-alternatives --display editor
</pre
              >
            </div>

            <figure>
              <img
                src="./images/up-alter-display.png"
                alt="up-alter-display.png"
              />
            </figure>

            <p>
              Como se ve en la imagen el enlace puede estar configurado en modo
              auto o manual. En auto, el sistema elegirá el programa por defecto
              para instalar paquetes o actualizaciones. En manual, es el propio
              administrador del sistema el que tendra que morificar el enlace.
            </p>

            <p>
              Hay varios paquetes que proporcionan un editor de texto compatible
              con vi, por ejemplo vim. El grupo de enlaces vi selecciona cual se
              usa, incluyendo enlaces para el programa y la página del manual
              asociada.
            </p>

            <p>
              Utilice la opción &#x2013;display para mostrar los paquetes
              disponibles que proporcionan vi y su configuración actual:
            </p>

            <div class="org-src-container">
              <pre class="src src-sh">
update-alternatives --display vi
</pre
              >
            </div>

            <p>
              Para elegir una implementación de vi en particular use la
              siguiente orden como el usuario «root» y seleccione un número de
              la lista:
            </p>

            <div class="org-src-container">
              <pre class="src src-sh">
update-alternatives --config vi
</pre
              >
            </div>

            <p>
              Para que la implementación de vi se vuelva a elegir de forma
              automática, haga como administrador:
            </p>

            <div class="org-src-container">
              <pre class="src src-sh">
update-alternatives --auto vi
</pre
              >
            </div>
          </div>
        </div>

        <div id="outline-container-orgac6bdcf" class="outline-3">
          <h3 id="orgac6bdcf">Update-alternative &#x2013;query</h3>
          <div class="outline-text-3" id="text-orgac6bdcf">
            <p>
              El formato de consulta de update-alternatives &#x2013;query
              utiliza un formato simple de tipo RFC822. Se compone de n + 1
              bloques, donde n es el número de alternativas disponibles en el
              grupo de enlaces consultado. El primer bloque contiene los
              siguientes campos:
            </p>

            <ul class="org-ul">
              <li>
                <b>Name</b>: nombre El nombre de la alternativa en el directorio
                de alternativas.
              </li>

              <li><b>Link</b>: enlace El nombre genérico de la alternativa.</li>

              <li>
                <b>Slaves</b>: lista de esclavos Cuando este campo está
                presente, las líneas siguientes contienen todos los enlaces
                esclavos asociados al enlace maestro de la alternativa. Hay un
                esclavo por línea. Cada línea contiene un espacio, el nombre
                genérico de la alternativa esclava, otro espacio, y la ruta al
                enlace esclavo.
              </li>

              <li>
                <b>Status</b>: estado El estado de la alternativa (auto o
                manual).
              </li>

              <li>
                <b>Best</b>: mejor-opción La ruta de la mejor alternativa para
                este grupo de enlaces. No aparece si no existen alternativas
                disponibles.
              </li>

              <li>
                <b>Value</b>: alternativa-seleccionada-actualmente La ruta de la
                alternativa seleccionada en ese momento. También puede tomar el
                valor mágico none (ninguno). Se usa si el enlace no existe. Los
                siguientes bloques describen las alternativas disponibles en el
                grupo de enlaces consultado:
              </li>

              <li>
                <b>Alternative</b>: ruta-a-esta-alternativa Ruta a la
                alternativa de este bloque.
              </li>

              <li>
                <b>Priority</b>: valor-de-prioridad Valor de la prioridad de
                esta alternativa.
              </li>

              <li>
                <b>Slaves</b>: lista de esclavos When this field is present, the
                next lines hold all slave alternatives associated to the master
                link of the alternative. There is one slave per line. Each line
                contains one space, the generic name of the slave alternative,
                another space, and the path to the slave alternative.
              </li>
            </ul>
          </div>

          <div id="outline-container-orge45e790" class="outline-4">
            <h4 id="orge45e790">Ejemplo</h4>
            <div class="outline-text-4" id="text-orge45e790">
              <div class="org-src-container">
                <pre class="src src-sh">
$ update-alternatives --query editor
Name: editor
Link: /usr/bin/editor
Slaves:
editor.1.gz /usr/share/man/man1/editor.1.gz
editor.fr.1.gz /usr/share/man/fr/man1/editor.1.gz
editor.it.1.gz /usr/share/man/it/man1/editor.1.gz
editor.pl.1.gz /usr/share/man/pl/man1/editor.1.gz
editor.ru.1.gz /usr/share/man/ru/man1/editor.1.gz
Status: auto
Best: /usr/bin/vim.basic
Value: /usr/bin/vim.basic

Alternative: /bin/ed
Priority: -100
Slaves:
editor.1.gz /usr/share/man/man1/ed.1.gz

Alternative: /usr/bin/vim.basic
Priority: 50
Slaves:
editor.1.gz /usr/share/man/man1/vim.1.gz
editor.fr.1.gz /usr/share/man/fr/man1/vim.1.gz
editor.it.1.gz /usr/share/man/it/man1/vim.1.gz
editor.pl.1.gz /usr/share/man/pl/man1/vim.1.gz
editor.ru.1.gz /usr/share/man/ru/man1/vim.1.gz
</pre
                >
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">19 sep 2018</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2018-09-19-procesos-en-linux.html"
          >Procesos en linux</a
        >
      </h1>
      <p>Administración de procesos en linux</p>

      <div id="outline-container-orga3f6b34" class="outline-2">
        <h2 id="orga3f6b34">Procesos</h2>
        <div class="outline-text-2" id="text-orga3f6b34">
          <p>
            Un proceso en resumen es un programa en ejecución, que a su vez
            puede crear otros procesos denominados hijos. Dependiendo de la
            forma en que corren estos programas se los clasifica en las
            siguientes categorías:
          </p>

          <ul class="org-ul">
            <li>Procesos normales</li>
            <li>Procesos Daemons</li>
            <li>Procesos Zombies</li>
          </ul>
        </div>

        <div id="outline-container-orgbf4b53a" class="outline-3">
          <h3 id="orgbf4b53a">Procesos normales</h3>
          <div class="outline-text-3" id="text-orgbf4b53a">
            <p>
              Generalmente son ejecutados en una terminal y corren en el sistema
              operativo a nombre de un usuario.
            </p>
          </div>
        </div>

        <div id="outline-container-org1779861" class="outline-3">
          <h3 id="org1779861">Procesos daemon</h3>
          <div class="outline-text-3" id="text-org1779861">
            <p>
              Los procesos de tipo daemon o servicios se ejecutan a nombre de un
              usuarios y no tienen salida directa por una terminal, corren en
              segundo plano. La mayoría de ellos en vez de usar la terminal para
              escuchar un requerimiento lo hacen a través de un puerto.
            </p>
          </div>
        </div>

        <div id="outline-container-orga9f73ad" class="outline-3">
          <h3 id="orga9f73ad">Procesos zombies</h3>
          <div class="outline-text-3" id="text-orga9f73ad">
            <p>
              Todos los procesos que están en ejecución dependen del primer
              proceso que se lanza después del arranque: el proceso init, padre
              de todos los procesos. Muchas veces los procesos no son únicos
              sino que dan lugar muchos procesos secundarios. Teóricamente el
              padre de cada uno de ellos debería en todo momento vigilar que es
              lo que hecen los procesos hijos. Si por alguna razón el padre
              falla en el control se pueden llegar a producir procesos de tipo
              zombie que pueden llenar el árbol de procesos.
            </p>
          </div>
        </div>

        <div id="outline-container-orgb70ac20" class="outline-3">
          <h3 id="orgb70ac20">El árbol de procesos</h3>
          <div class="outline-text-3" id="text-orgb70ac20">
            <p>
              En GNU/Linux el árbol de procesos está representado en el
              directorio
              <a href="file:///2018/02/19/El-sistema-de-archivos-proc/">proc</a
              >, que es una estructura de árbol virtual que genera y monta el
              kernel durante el arranque.
            </p>
          </div>
        </div>
      </div>

      <div id="outline-container-org9c01458" class="outline-2">
        <h2 id="org9c01458">
          Comandos útiles para la administración de procesos
        </h2>
        <div class="outline-text-2" id="text-org9c01458"></div>
        <div id="outline-container-org9369d7d" class="outline-3">
          <h3 id="org9369d7d">ps</h3>
          <div class="outline-text-3" id="text-org9369d7d">
            <p>
              El comando ps proporciona información sobre los procesos que se
              están ejecutando en el sistema. Este comando no es interactivo,
              solo captura y muestra los procesos que se están ejecutando en ese
              momento. Sin parámetros el comando ps muestra los procesos que
              está corriendo el usuario actual en una terminal determinada. La
              salida del comando se muestra en forma de tabla donde:
            </p>

            <ul class="org-ul">
              <li>La primera columna es el PID o identificador de proceso.</li>
              <li>
                La segunda columna muestra la terminal en la que se está
                ejecutando dicho proceso, si muestra un signo de interrogación
                (?) el proceso no tiene asociada ninguna terminal.
              </li>
              <li>
                La tercera columna muestra el tiempo que ha estado ejecutándose
                el proceso.
              </li>
              <li>La cuarta columna es el nombre del proceso.</li>
            </ul>
          </div>

          <ul class="org-ul">
            <li>
              <a id="orga654a2f"></a>Parámetros comunes de ps<br />
              <div class="outline-text-5" id="text-orga654a2f">
                <p>
                  <b>ps a</b> Con el parámetro <b>a</b> se muestran los procesos
                  de todas las terminales activas
                </p>

                <p>
                  <b>ps u</b> Muestra los procesos que corren en segundo plano,
                  también incluye información sobre la cantidad de memoria, cpu,
                  nombre de usuario, tiempo de ejecución y un par de cosas más.
                </p>

                <p>
                  <b>ps x</b> Este parámetro muestra información de los demonios
                  y procesos sin terminal.
                </p>

                <p>
                  <b>ps f</b> Permite ver los procesos en forma de árbol,
                  determinando así procesos padre y todos los procesos hijos.
                </p>
              </div>
            </li>
          </ul>
        </div>

        <div id="outline-container-org9809b84" class="outline-3">
          <h3 id="org9809b84">pstree</h3>
          <div class="outline-text-3" id="text-org9809b84">
            <p>
              Este comando muestra, en forma de árbol todos los procesos del
              sistema, de ésta forma se pueden ver las relaciones existentes
              entre los procesos.
            </p>
          </div>
        </div>

        <div id="outline-container-orgae8f768" class="outline-3">
          <h3 id="orgae8f768">kill</h3>
          <div class="outline-text-3" id="text-orgae8f768">
            <p>
              Para finalizar un proceso se usa el comando <b>kill</b> que tiene
              la siguiente sintaxis: kill [parámetro] PID
            </p>

            <p>
              es posible enviarle señales a los procesos usando los parámetros
              del comando kill, existen en total 62 señales como se ve en la
              captura:
              <img src="./images/kill.png" alt="kill.png" />
            </p>

            <p>
              las más usadas son 1, 9, 15 que son las de: <b>recargar</b>,
              <b>matar</b> y <b>terminar</b>. Para enviar una señal a un proceso
              es necesario conocer su <b>PID</b> (que se consigue usando el
              comando <b>ps</b>). Con <b>Killall</b> se puede enviarle señales a
              los procesos sin conocer su <b>PID</b> éste comando usa el nombre
              de la aplicación como parámetro.
            </p>
          </div>
        </div>

        <div id="outline-container-orgb005182" class="outline-3">
          <h3 id="orgb005182">top</h3>
          <div class="outline-text-3" id="text-orgb005182">
            <p>
              Otra forma de ver los procesos que corren en el sistema es usar el
              comando top, que permite ver los procesos en forma dinámica. En
              realidad este comando tiene un tiempo de actualización de lectura
              de procesos.
            </p>
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">19 sep 2018</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2018-09-19-runlevels-e-inittab.html"
          >Runlevels e inittab</a
        >
      </h1>
      <p>Niveles de ejecución en linux</p>

      <div id="outline-container-org61b7fdd" class="outline-2">
        <h2 id="org61b7fdd">Runlevels</h2>
        <div class="outline-text-2" id="text-org61b7fdd">
          <p>
            El sistema operativo funciona en base los denominados
            <b>runlevel o niveles de ejecución</b>, estos niveles le dan el
            nombre al sistema de arranque, conocido como SystemV (system 5) por
            que son 5 niveles; en realidad son 7 pero dos no son operativos: el
            nivel de apagado y el nivel de reinicio.
          </p>

          <p>
            Después de ejecutarse el <b>grub</b> y descomprimirse el kernel, el
            sistema le pasa el control al proceso <b>init</b>, representado por
            un archivo que está ubicado en <b>/etc/inittab</b> (tabla de
            inicio). Este archivo le dice al sistema operativo como tiene que
            arrancar.
          </p>
        </div>

        <div id="outline-container-orge872feb" class="outline-3">
          <h3 id="orge872feb">El archivo /etc/inittab</h3>
          <div class="outline-text-3" id="text-orge872feb">
            <div class="org-src-container">
              <pre class="src src-sh">
# /etc/inittab: init(8) configuration.
# $Id: inittab,v 1.91 2002/01/25 13:35:21 miquels Exp $

# The default runlevel.
id:2:initdefault:

# Boot-time system configuration/initialization script.
# This is run first except when booting in emergency (-b) mode.
si::sysinit:/etc/init.d/rcS

# What to do in single-user mode.
~~:S:wait:/sbin/sulogin

# /etc/init.d executes the S and K scripts upon change
# of runlevel.
#
# Runlevel 0 is halt.
# Runlevel 1 is single-user.
# Runlevels 2-5 are multi-user.
# Runlevel 6 is reboot.

l0:0:wait:/etc/init.d/rc 0
l1:1:wait:/etc/init.d/rc 1
l2:2:wait:/etc/init.d/rc 2
l3:3:wait:/etc/init.d/rc 3
l4:4:wait:/etc/init.d/rc 4
l5:5:wait:/etc/init.d/rc 5
l6:6:wait:/etc/init.d/rc 6
# Normally not reached, but fallthrough in case of emergency.
z6:6:respawn:/sbin/sulogin

# What to do when CTRL-ALT-DEL is pressed.
ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now

# Action on special keypress (ALT-UpArrow).
#kb::kbrequest:/bin/echo "Keyboard Request--edit /etc/inittab to let this work."

# What to do when the power fails/returns.
pf::powerwait:/etc/init.d/powerfail start
pn::powerfailnow:/etc/init.d/powerfail now
po::powerokwait:/etc/init.d/powerfail stop

# /sbin/getty invocations for the runlevels.
#
# The "id" field MUST be the same as the last
# characters of the device (after "tty").
#
# Format:
#  &lt;id&gt;:&lt;runlevels&gt;:&lt;action&gt;:&lt;process&gt;
#
# Note that on most Debian systems tty7 is used by the X Window System,
# so if you want to add more getty's go ahead but skip tty7 if you run X.
#
1:2345:respawn:/sbin/getty 38400 tty1
2:23:respawn:/sbin/getty 38400 tty2
3:23:respawn:/sbin/getty 38400 tty3
4:23:respawn:/sbin/getty 38400 tty4
5:23:respawn:/sbin/getty 38400 tty5
6:23:respawn:/sbin/getty 38400 tty6

# Example how to put a getty on a serial line (for a terminal)
#
#T0:23:respawn:/sbin/getty -L ttyS0 9600 vt100
#T1:23:respawn:/sbin/getty -L ttyS1 9600 vt100

# Example how to put a getty on a modem line.
#
#T3:23:respawn:/sbin/mgetty -x0 -s 57600 ttyS3

~ $ cat /etc/inittab
# /etc/inittab: init(8) configuration.
# $Id: inittab,v 1.91 2002/01/25 13:35:21 miquels Exp $

# The default runlevel.
id:2:initdefault:

# Boot-time system configuration/initialization script.
# This is run first except when booting in emergency (-b) mode.
si::sysinit:/etc/init.d/rcS

# What to do in single-user mode.
~~:S:wait:/sbin/sulogin

# /etc/init.d executes the S and K scripts upon change
# of runlevel.
#
# Runlevel 0 is halt.
# Runlevel 1 is single-user.
# Runlevels 2-5 are multi-user.
# Runlevel 6 is reboot.

l0:0:wait:/etc/init.d/rc 0
l1:1:wait:/etc/init.d/rc 1
l2:2:wait:/etc/init.d/rc 2
l3:3:wait:/etc/init.d/rc 3
l4:4:wait:/etc/init.d/rc 4
l5:5:wait:/etc/init.d/rc 5
l6:6:wait:/etc/init.d/rc 6
# Normally not reached, but fallthrough in case of emergency.
z6:6:respawn:/sbin/sulogin

# What to do when CTRL-ALT-DEL is pressed.
ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now

# Action on special keypress (ALT-UpArrow).
#kb::kbrequest:/bin/echo "Keyboard Request--edit /etc/inittab to let this work."

# What to do when the power fails/returns.
pf::powerwait:/etc/init.d/powerfail start
pn::powerfailnow:/etc/init.d/powerfail now
po::powerokwait:/etc/init.d/powerfail stop

# /sbin/getty invocations for the runlevels.
#
# The "id" field MUST be the same as the last
# characters of the device (after "tty").
#
# Format:
#  &lt;id&gt;:&lt;runlevels&gt;:&lt;action&gt;:&lt;process&gt;
#
# Note that on most Debian systems tty7 is used by the X Window System,
# so if you want to add more getty's go ahead but skip tty7 if you run X.
#
1:2345:respawn:/sbin/getty 38400 tty1
2:23:respawn:/sbin/getty 38400 tty2
3:23:respawn:/sbin/getty 38400 tty3
4:23:respawn:/sbin/getty 38400 tty4
5:23:respawn:/sbin/getty 38400 tty5
6:23:respawn:/sbin/getty 38400 tty6

# Example how to put a getty on a serial line (for a terminal)
#
#T0:23:respawn:/sbin/getty -L ttyS0 9600 vt100
#T1:23:respawn:/sbin/getty -L ttyS1 9600 vt100

# Example how to put a getty on a modem line.
#
#T3:23:respawn:/sbin/mgetty -x0 -s 57600 ttyS3
</pre
              >
            </div>

            <p>
              Las primeras lineas del archivo <b>/etc/inittab</b> son
              comentarios, luego
            </p>

            <div class="org-src-container">
              <pre class="src src-sh">
id:2:initdefault:
</pre
              >
            </div>

            <p>inidica el nivel de ejecución por defecto.</p>

            <p>La linea:</p>

            <div class="org-src-container">
              <pre class="src src-sh">
si::sysinit:/etc/init.d/rcS
</pre
              >
            </div>

            <p>
              le dice al sistema operativo como debe configurar los
              dispositivos.
            </p>

            <p>
              Las lineas siguientes (comentadas con #) describen los runlevels
              existentes:
            </p>

            <ul class="org-ul">
              <li>Runlevel 0 es apagado.</li>
              <li>
                Runlevel 1 es mono-usuario sin servicios de red de ningún tipo.
                Este nivel es exclusivo para el usuario root, se utiliza para
                tareas de configuración y mantenimiento.
              </li>
              <li>
                Runlevel 2 al 5 niveles multiusuario (devuan en el nivel 2 lanza
                también el modo gráfico).
              </li>
              <li>Runlevel 6 nivel de reinicio.</li>
            </ul>

            <p>
              Después de seleccionar el runlevel, el <b>SO</b> lee el archivo
              <b>/etc/init.d/rcS</b> que tiene como función, como ya se ha
              dicho, arrancar y buscar las configuraciones particulares de los
              dispositivos, específicamente:
            </p>

            <ul class="org-ul">
              <li>
                Determina la configuración de red basándose en
                <a href="file:///Direccion-ip-estatica/"><b>/etc/network</b></a
                >.
              </li>
              <li>
                Monta el sistema de archivos
                <a href="file:///El-sistema-de-archivos-proc/"><b>/proc</b></a>
                que GNU/Devuan usa para llevar a cabo el control de procesos.
              </li>
              <li>
                Configura el reloj basándose en el bios y en la zona horaria
                seleccionada.
              </li>
              <li>
                Arranca la memoria virtual del sistema y la monta en la
                partición swap definida en <b>/etc/fstab</b>.
              </li>
              <li>
                Establece en nombre de host de la maquina y evalúa procesos de
                autenticación de usuarios globales tales como NIS, kerberos y
                smb.
              </li>
              <li>
                Comprueba los sistemas de archivos del equipo (particiones
                definidas durante la instalación) busca posibles errores y los
                monta en caso de no encontrar ninguno.
              </li>
              <li>
                Identifica cualquier rutina especial requerida en el sistema
                para usar el hardware del equipo, configura los dispositivos
                plug-and-play, activa sistemas básicos como el sonido.
              </li>
              <li>
                Comprueba el estado de dispositivos especiales de cualquier
                tipo.
              </li>
              <li>Configura dispositivos (mouse, teclado, etc).</li>
            </ul>

            <p>Las lineas que siguen en el archivo <b>/etc/inittab</b>:</p>

            <div class="org-src-container">
              <pre class="src src-sh">
l0:0:wait:/etc/init.d/rc 0
l1:1:wait:/etc/init.d/rc 1
l2:2:wait:/etc/init.d/rc 2
l3:3:wait:/etc/init.d/rc 3
l4:4:wait:/etc/init.d/rc 4
l5:5:wait:/etc/init.d/rc 5
l6:6:wait:/etc/init.d/rc 6
</pre
              >
            </div>

            <p>
              buscan el script llamado rc ubicado en el directorio
              <b>/etc/init.d</b> que recibe un número como parámetro y lanza los
              servicios del nivel correspondiente.
            </p>

            <p>
              Cuando el sistema no puede arrancar, pide la contraseña de root
              para que intente solucionar el problema, esto se indica en la
              linea:
              <code>bash z6:6:respawn:/sbin/sulogin</code>
            </p>

            <p>
              Para saber que servicios tiene que iniciar en cada runlavel el
              <b>SO</b> tiene subdirectorios en <b>/etc/rc[0-6].d</b> con cada
              nivel de ejecución, cada uno de esos subdirectorios contienen los
              scripts de arranque de servicios del sistema operativo. Por
              ejemplo el subdirectorio <b>/etc/rc2.d</b> contiene los enlaces
              simbólicos que apuntan al directorio <b><i>etc/init.d</i></b> que
              es donde se guardan los script de inicio de todos los servicios.
            </p>

            <div class="org-src-container">
              <pre class="src src-sh">
$ ls -la /etc/rc2.d
total 9
drwxr-xr-x   2 root           root     4096 2019-01-16 12:09 .
drwxr-xr-x 116 root           root     4096 2019-02-08 14:46 ..
lrwxrwxrwx   1 root           root       29 2018-08-01  2018 K01apache-htcacheclean -&gt; ../init.d/apache-htcacheclean
-rw-r--r--   1 root           root      677 2017-06-07  2017 README
lrwxrwxrwx   1 root           root       26 2018-07-17  2018 S01console-setup.sh -&gt; ../init.d/console-setup.sh
lrwxrwxrwx   1 root           root       24 2018-07-18  2018 S02binfmt-support -&gt; ../init.d/binfmt-support
lrwxrwxrwx   1 root           root       18 2018-07-17  2018 S02bootlogs -&gt; ../init.d/bootlogs
lrwxrwxrwx   1 root           root       18 2018-07-17  2018 S02minidlna -&gt; ../init.d/minidlna
lrwxrwxrwx   1 root           root       19 2018-07-18  2018 S02minissdpd -&gt; ../init.d/minissdpd
lrwxrwxrwx   1 root           root       17 2018-11-08  2018 S02mongodb -&gt; ../init.d/mongodb
lrwxrwxrwx   1 root           root       14 2018-07-17  2018 S02motd -&gt; ../init.d/motd
lrwxrwxrwx   1 root           root       17 2018-07-17  2018 S02rsyslog -&gt; ../init.d/rsyslog
lrwxrwxrwx   1 root           root       18 2019-01-16 12:09 S02sickrage -&gt; ../init.d/sickrage
lrwxrwxrwx   1 root           root       29 2018-07-22  2018 S02transmission-daemon -&gt; ../init.d/transmission-daemon
lrwxrwxrwx   1 root           root       17 2018-08-01  2018 S03apache2 -&gt; ../init.d/apache2
lrwxrwxrwx   1 root           root       17 2018-08-01  2018 S04anacron -&gt; ../init.d/anacron
lrwxrwxrwx   1 root           root       14 2018-08-01  2018 S04cron -&gt; ../init.d/cron
lrwxrwxrwx   1 root           root       14 2018-08-01  2018 S04dbus -&gt; ../init.d/dbus
lrwxrwxrwx   1 root           root       20 2018-08-01  2018 S04irqbalance -&gt; ../init.d/irqbalance
lrwxrwxrwx   1 root           root       15 2018-08-01  2018 S04mysql -&gt; ../init.d/mysql
lrwxrwxrwx   1 root           root       22 2018-12-26  2018 S04redis-server -&gt; ../init.d/redis-server
lrwxrwxrwx   1 root           root       15 2018-08-01  2018 S04rsync -&gt; ../init.d/rsync
lrwxrwxrwx   1 root           root       13 2018-08-01  2018 S04ssh -&gt; ../init.d/ssh
lrwxrwxrwx   1 root           root       17 2018-08-12  2018 S04vboxdrv -&gt; ../init.d/vboxdrv
lrwxrwxrwx   1 root           root       17 2018-08-01  2018 S05elogind -&gt; ../init.d/elogind
lrwxrwxrwx   1 root           root       14 2018-08-01  2018 S05slim -&gt; ../init.d/slim
lrwxrwxrwx   1 root           root       31 2018-08-12  2018 S05vboxautostart-service -&gt; ../init.d/vboxautostart-service
lrwxrwxrwx   1 root           root       33 2018-08-12  2018 S05vboxballoonctrl-service -&gt; ../init.d/vboxballoonctrl-service
lrwxrwxrwx   1 root           root       25 2018-08-12  2018 S05vboxweb-service -&gt; ../init.d/vboxweb-service
lrwxrwxrwx   1 root           root       18 2018-08-01  2018 S06rc.local -&gt; ../init.d/rc.local
lrwxrwxrwx   1 root           root       19 2018-08-01  2018 S06rmnologin -&gt; ../init.d/rmnologin
</pre
              >
            </div>

            <p>
              los links comienzan con una S (start) son los que inician y los
              que empiezan con una K (kill) no, después tienen un numero de dos
              cifras que indica el orden en el arrancan.
            </p>

            <p>El archivo de configuración continua con:</p>

            <div class="org-src-container">
              <pre class="src src-sh">
ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now
</pre
              >
            </div>

            <p>
              esto significa que cuando se presionen simultáneamente las teclas
              ** el sistema operativo se va a reiniciar automáticamente. Para
              deshabilitar esta función solo vasta con comentar la linea
              anteponiendo un <b>#</b> al comienzo.
            </p>
          </div>
        </div>

        <div id="outline-container-orgcce8a15" class="outline-3">
          <h3 id="orgcce8a15">Cambiando niveles de ejecución</h3>
          <div class="outline-text-3" id="text-orgcce8a15">
            <p>
              Para cambiar el nivel de ejecución su usa el comando init seguido
              del número de runlevel al que se va a cambiar:
            </p>

            <div class="org-src-container">
              <pre class="src src-sh">
sudo init 0 (apaga el equipo)
sudo init 1 (cambia al nivel de ejecución mono-usuario)
sudo init 2 (cambia al nivel de ejecución multi-usuario)
sudo init 6 (reinicia el equipo)
</pre
              >
            </div>
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">15 sep 2018</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2018-09-15-Cron.html"
          >Planificación y administración de tareas con Cron y Crontab</a
        >
      </h1>
      <p>
        En el sistema operativo Unix, cron es un administrador regular de
        procesos en segundo plano (demonio) que ejecuta procesos o guiones a
        intervalos regulares (por ejemplo, cada minuto, día, semana o mes). Los
        procesos que deben ejecutarse y la hora en la que deben hacerlo se
        especifican en el fichero crontab. Este servicio es muy útil para
        realizar tareas de mantenimiento como copias de respaldo del sistema,
        verificación del equipo o estadísticas de uso.
      </p>

      <div id="outline-container-orgb1743f4" class="outline-2">
        <h2 id="crontab-del-usuario">Crontab del usuario</h2>
        <div class="outline-text-2" id="text-crontab-del-usuario">
          <p>
            Cada usuario puede definir sus propias tareas, éstas se ejecutaran
            con los privilegios del usuario que las ha definido, el demonio cron
            primero busca dichas tareas, que se almacenan en
            <b><i>var/spool/cron/crontabs</i></b>
            donde cada archivo lleva el nombre del login de cada usuario.
            Después levanta los crontabs del sistema, los cuales se almacenan en
            el
            <b>/etc/crontab</b> y en el directorio <b>/etc/cron.d</b>. Para
            editar el crontab del usuario se usa el comando
            <b><i>crontab</i></b>
          </p>
        </div>

        <ul class="org-ul">
          <li>
            <a id="sintaxis-del-comando"></a>Sintaxis del comando:<br />
            <div class="outline-text-5" id="text-sintaxis-del-comando">
              <pre class="example">
crontab [opciones][usuario]
</pre
              >

              <p>
                <b>crontab -l</b> lista el contenido de la tabla de tareas.
                <b>crontab -e</b>
                edita el contenido de la tabla de tareas.
              </p>

              <p>
                Cuando se ejecuta crontab -e por primera vez pregunta que editor
                de texto que se va usar y guarda ésta información en el archivo
                <b>~/.selected\<sub>editor</sub></b>
              </p>
            </div>
          </li>

          <li>
            <a id="formato-de-la-tabla-de-tareas"></a>Formato de la tabla de
            tareas<br />
            <div class="outline-text-5" id="text-formato-de-la-tabla-de-tareas">
              <p>
                .----------&#x2013;&#x2014; minuto (0-59) |
                .-------&#x2013;&#x2014; hora (0-23) | | .----&#x2013;&#x2014;
                día del mes (1-31) | | | .-&#x2013;&#x2014; mes (1-12) o
                jan,feb,mar,apr,may,jun,jul&#x2026; (meses en inglés) | | | |
                .&#x2014; día de la semana (0-6) (domingo=0 ó 7) o
                sun,mon,tue,wed,thu,fri,sat | | | | | * *
              </p>
            </div>
          </li>
        </ul>
      </div>

      <div id="outline-container-org0ee77ce" class="outline-2">
        <h2 id="org0ee77ce">Comando a ejecutar</h2>
        <div class="outline-text-2" id="text-org0ee77ce">
          <p>
            Se pueden utilizar asteriscos para especificar todos (ejemplo: todos
            los días de la semana), guiones para especificar rangos (ejemplo: de
            miércoles a domingo, <b><i>0-3</i></b
            >) y comas para momentos exactos(ejemplo: a los 0, 10 y 30 minutos,
            <b><i>0, 10, 30</i></b
            >).
          </p>
        </div>

        <div id="outline-container-orge6adb79" class="outline-4">
          <h4 id="ejemplos">Ejemplos</h4>
          <div class="outline-text-4" id="text-ejemplos">
            <ul class="org-ul">
              <li>
                <p>Una vez por semana</p>

                <pre class="example">
0 * * * * /usr/local/bin/updatedb.sh  
</pre
                >

                <p>
                  en el minuto 0 de cada hora, ejecutar el script
                  <b>/usr/local/bin/updatedb.sh</b>, todas las horas, todos los
                  días del mes, todos los meses y todos los días de la semana.
                </p>
              </li>

              <li>
                <p>Una vez por día</p>

                <pre class="example">
01 04 * * * /usr/local/bin/updatedb.sh  
</pre
                >

                <p>en el minuto 01 de la hora 04 ejecutar &#x2026;</p>
              </li>

              <li>
                <p>Una vez por mes</p>

                <pre class="example">
01 04 01 * * /usr/local/bin/updatedb.sh  
</pre
                >

                <p>
                  en el minuto 01 de la hora 04 el día 01 de cada mes ejecutar
                  &#x2026;
                </p>
              </li>

              <li>
                <p>una vez por año</p>

                <pre class="example">
01 04 01 01 * /usr/local/bin/updatedb.sh
</pre
                >

                <p>
                  en el minuto 01 de la hora 04 el día 01 del mes 01 de cada año
                  ejecutar &#x2026;
                </p>
              </li>

              <li>
                <p>dos veces por semana</p>

                <pre class="example">
0 0 * * 1,3 /usr/local/bin/updatedb.sh 
</pre
                >

                <p>
                  a las 12 de la noche, todos los lunes y miércoles de todos los
                  meses, de cada año ejecutar&#x2026;
                </p>
              </li>
            </ul>
          </div>
        </div>

        <div id="outline-container-org33de090" class="outline-3">
          <h3 id="crontab-del-sistema">Crontab del sistema</h3>
          <div class="outline-text-3" id="text-crontab-del-sistema">
            <p>
              Se utiliza cuando se requiere que una tarea se ejecute con
              privilegios de root. La definición es igual a la del crontab del
              usuario solo que debe agregarse el campo usuario. Es posible
              editar directamente el archivo*/etc/crontab*, aunque es mejor
              agregar la definición dentro del directorio <b>/etc/cron.d</b> que
              sirve para almacenar los cronjobs de los diferentes usuarios. Por
              ejemplo
            </p>

            <pre class="example">
0 0 * * 1,3 root /usr/local/bin/updatedb.sh 
</pre
            >

            <p>
              El usuario root también tiene la posibilidad de usar los archivos
              <b>/etc/cron.hourly</b>, <b>/etc/cron.daily</b>
              <b>/etc/cron.weekly</b> y <b>/etc/cron.monthly</b>. En estos
              archivos se pueden ubicar los scripts que serán ejecutados cada
              hora, cada día, cada semana o cada mes según corresponda.
            </p>
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">19 jun 2018</div>
      <h1 class="post-title">
        <a
          href="https://martiyo.github.io/2018-06-19-el-sistema-de-ficheros-proc.html"
          >El sistema de ficheros /proc</a
        >
      </h1>
      <p>Process filesystem.</p>

      <div id="outline-container-orgf9f80f2" class="outline-2">
        <h2 id="orgf9f80f2">Wiki</h2>
        <div class="outline-text-2" id="text-orgf9f80f2">
          <p>
            En los sistemas operativos tipo Unix, procfs es la abreviatura de
            sistema de ficheros de procesos (process filesystem). Un pseudo
            sistema de ficheros que se utiliza para permitir el acceso a la
            información del núcleo sobre los procesos. Dado que proc no es un
            sistema de ficheros real, no consume ningún espacio de
            almacenamiento, y sólo consume una limitada cantidad de memoria.
          </p>

          <p>
            El sistema de archivos se monta con frecuencia en /proc. Está
            soportado bajo Solaris, BSD y GNU/Linux, el último de los cuales lo
            extiende para incluir datos que no son propios de los procesos.
          </p>
        </div>
      </div>

      <div id="outline-container-org1f582f6" class="outline-2">
        <h2 id="org1f582f6">Ejemplos</h2>
        <div class="outline-text-2" id="text-org1f582f6">
          <pre class="example">
$cat /proc/cpuinfo
</pre
          >

          <p>
            Muestra información acerca del procesador: su tipo, marca, modelo,
            rendimiento, etc.
          </p>

          <pre class="example">
$cat /proc/devices
</pre
          >

          <p>
            ̣Lista de controladores de dispositivos configurados dentro del
            núcleo que está en ejecución.
          </p>

          <pre class="example">
$cat /proc/filesystem
</pre
          >

          <p>
            Lista los sistemas de archivos que están soportados por el kernel.
          </p>

          <pre class="example">
$cat /proc/meminfo
</pre
          >

          <p>
            Información acerca de la utilización de la memoria física y del
            archivo de intercambio.
          </p>

          <pre class="example">
$cat /proc/uptime
</pre
          >

          <p>Indica el tiempo en segundos que el sistema lleva funcionando.</p>

          <p>
            Existen muchos comandos que solamente leen los archivos anteriores y
            les dan un formato distinto para que la información sea fácil de
            entender. Por ejemplo, el comando
            <a href="file:///2018/02/19/lshw-list-hardware/">"lshw"</a>
          </p>

          <p>
            fuente
            <a
              href="http://www.tldp.org/pub/Linux/docs/ldp-archived/system-admin-guide/translations/es/html/ch04s07.html"
              >www.tlpd.org</a
            >
          </p>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">06 mar 2018</div>
      <h1 class="post-title">
        <a
          href="https://martiyo.github.io/2018-03-06-direccion-ip-estatica.html"
          >Dirección ip estatica</a
        >
      </h1>

      <div id="outline-container-orga352ebd" class="outline-2">
        <h2 id="orga352ebd">Descripción</h2>
        <div class="outline-text-2" id="text-orga352ebd">
          <p>
            El sistema está configurado para obtener de forma automática la
            configuración de red (ip, máscara de red, servidores DNS, puerta de
            enlace) a travéz del servicio DHCP. Sin embargo, si se quiere
            configurar un sistema como servidor en una red es muy recomendable,
            por no decir necesario, que el sistema tenga una dirección ip
            estática.
          </p>
        </div>
      </div>

      <div id="outline-container-org80296a3" class="outline-2">
        <h2 id="org80296a3">Configuración</h2>
        <div class="outline-text-2" id="text-org80296a3">
          <p>
            Antes de cambiar la configuración, hay que detener la interfaz de
            red:
          </p>

          <pre class="example">
root@devuan:~# ifdown eth0
</pre
          >

          <p>
            En devuan el archivo de configuración de las interfaces de red está
            en
            <b>/etc/network/interfaces</b>
          </p>

          <pre class="example">
# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).
# The loopback network interface
  auto lo
  iface lo inet loopback
# The primary network interface
# allow-hotplug eth0
# iface eth0 inet dhcp
# Static IP address
  auto eth0
  iface eth0 inet static
  address 192.168.1.100
  netmask 255.255.255.0
  network 192.168.1.0
  broadcast 192.168.1.255
  gateway 192.168.1.1
</pre
          >

          <p>
            Además de la configuración anterior, también hay que indicar cual es
            la dirección ip del servidor DNS que las aplicaciones utilizarán
            cuando tengan que traducir un nombre de dominio. En esta
            configuración casera se puede poner como servidor DNS la ip del
            router/modem ADSL, porque el router se encargará de reenviar la
            consulta DNS a otro servidor cuando no la pueda resolver. La
            configuración del servidor DNS se hace en el archivo
            <b>/etc/resolv.conf</b>, en el se incluye una linea como la
            siguiente: nameserver 192.168.1.1
          </p>
        </div>
      </div>

      <div id="outline-container-org168ac6e" class="outline-2">
        <h2 id="org168ac6e">Verificación</h2>
        <div class="outline-text-2" id="text-org168ac6e">
          <p>
            El comando ifconfig muestra información detallada de la
            configuración de las interfaces de red. Primero hay que activar la
            interfaz de red recién configurada:
          </p>

          <pre class="example">
root@devuan:~# ifup eth0
</pre
          >

          <pre class="example">
root@devuan:~# ifconfig eth0
eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
inet 192.168.1.100  netmask 255.255.255.0  broadcast 192.168.1.255
inet6 fe80::224:8cff:feb5:c5cd  prefixlen 64  scopeid 0x20&lt;link&gt;
ether 00:24:8c:b5:c5:cd  txqueuelen 1000  (Ethernet)
RX packets 1156081  bytes 815368327 (777.5 MiB)
RX errors 0  dropped 0  overruns 0  frame 0
TX packets 1429829  bytes 470645432 (448.8 MiB)
TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</pre
          >

          <p>
            Para comprobar que la configuración del archivo
            <b>/etc/resolv.conf</b> es correcta y se ha aplicado bien, se
            utiliza el comando ping a un nombre de dominio de internet
          </p>

          <pre class="example">
root@devuan:/home/martin# ping www.devuan.org
 PING www.devuan.org (46.105.191.76) 56(84) bytes of data.
 64 bytes from web.devuan.org (46.105.191.76): icmp_seq=1 ttl=48 time=727 ms
 64 bytes from web.devuan.org (46.105.191.76): icmp_seq=2 ttl=48 time=328 ms
 64 bytes from web.devuan.org (46.105.191.76): icmp_seq=3 ttl=48 time=317 ms
 64 bytes from web.devuan.org (46.105.191.76): icmp_seq=4 ttl=48 time=323 ms
 64 bytes from web.devuan.org (46.105.191.76): icmp_seq=5 ttl=48 time=310 ms
 64 bytes from web.devuan.org (46.105.191.76): icmp_seq=6 ttl=48 time=320 ms
 ^C
 --- www.devuan.org ping statistics ---
 6 packets transmitted, 6 received, 0% packet loss, time 7091ms
 rtt min/avg/max/mdev = 310.061/387.881/727.275/151.891 ms
</pre
          >
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>

      <div class="post-date">22 feb 2018</div>
      <h1 class="post-title">
        <a href="https://martiyo.github.io/2018-02-27-el-demonio-minidlna.html"
          >El demonio miniDLNA</a
        >
      </h1>

      <div id="outline-container-org6bfcae8" class="outline-2">
        <h2 id="minidlnad---servidor-ligero-dlnaupnp-av">
          <a id="org6bfcae8"></a>minidlnad - Servidor ligero DLNA/UPnP-AV
        </h2>
        <div
          class="outline-text-2"
          id="text-minidlnad---servidor-ligero-dlnaupnp-av"
        >
          <p>
            El demonio minidlnad es un servidor DLNA/UPnP-AV que comparte
            archivos multimedia(vídeo, música e imágenes) a los clientes de una
            red. Estos son típicamente reproductores multimedia como vlc, totem
            y mplayer, y dispositivos como reproductores multimedia portátiles,
            teléfonos inteligentes y televisores, sistemas de entretenimiento de
            videojuegos y reproductores de Blu-ray. De forma predeterminada,
            minidlnad escucha en todas las interfaces de red (excepto loopback).
            Este comportamiento se puede cambiar usando la opción -i, o en el
            archivo de configuración a través de la opción
            network\<sub>interface</sub>.
          </p>
        </div>

        <div id="outline-container-org4fbf9b7" class="outline-3">
          <h3 id="configuracion-minima">
            <a id="org4fbf9b7"></a>Configuracion minima
          </h3>
          <div class="outline-text-3" id="text-configuracion-minima">
            <p>
              El archivo de configuración por defecto es
              <b>/etc/minidlna.conf</b>, o el especificado con el flag
              <b>-f</b>. Para que el servidor funcione basta con editar un par
              de lineas:
            </p>

            <p>
              <b>'media\<sub>dir</sub>=/path/peliculas'</b>
            </p>

            <p>
              <b>'port=8200'</b>
            </p>
          </div>
        </div>

        <div id="outline-container-orga03cb7d" class="outline-3">
          <h3 id="otras-opciónes-de-configuración">
            <a id="orga03cb7d"></a>Otras opciónes de configuración
          </h3>
          <div class="outline-text-3" id="text-otras-opciónes-de-configuración">
            <p>
              <b>'inotify'</b> Detecta automáticamente nuevos archivos en
              media\<sub>dir</sub>.
            </p>

            <p>
              <b>'log\<sub>dir</sub>'</b> Ruta al directorio donde se almacenan
              los archivos de registro. Por defecto es /var/log.
            </p>

            <p>
              <b>'max\<sub>connections</sub>'</b> Especifica el numero maximo de
              conecciones simultaneas
            </p>

            <p>
              <b>'friendly\<sub>name</sub>'</b> Configura el nombre del servidor
              que se mostrara a los clientes.
            </p>

            <p>
              <b>'media\<sub>dir</sub>'</b> Ruta al directorio que contiene los
              archivos multimedia que se quiren compartir. Esta opción se puede
              usar varias veces si se tiene mas de un directorio. Para
              restringir una ruta a un tipo de archivo especifico (audio,
              videos, fotos), se usa la siguiente sintaxis
              <b>media\<sub>dir</sub>=[A,V,P], /path/multimedia</b>
            </p>
          </div>
        </div>

        <div id="outline-container-org7e9f321" class="outline-3">
          <h3 id="ejemplos"><a id="org7e9f321"></a>Ejemplos</h3>
          <div class="outline-text-3" id="text-ejemplos">
            <pre class="example">
media_dir=V,/path/multimedia/videos
media_dir=P,/path/multimedia/fotos
media_dir=A,/path/multimedia/musica\n
</pre
            >

            <p>
              <b>'merge\<sub>media</sub>\<sub>dirs</sub>'</b> Fusiona todos los
              contenidos base de media\<sub>dir</sub>
              en el contenedor raíz. El valor por defecto es no.
            </p>

            <p>
              <b>'network\<sub>interface</sub>'</b> Interfaz(es) de red a las
              que se debe enlazar (por ejemplo, eth0), delimitadas por comas.
              Esta opción se puede especificar más de una vez. Si no se
              especifica, minidlnad se une a todas las interfaces de red
              válidas.
            </p>

            <p>Fuente man minidlna, man minidlna.conf</p>
          </div>
        </div>
      </div>
      <div class="taglist">
        <a href="https://martiyo.github.io/tags.html">Tags</a>:
        <a href="https://martiyo.github.io/tag-linux.html">linux</a>
      </div>
      <div id="archive">
        <a href="https://martiyo.github.io/archive.html">Other posts</a>
      </div>
    </div>
    <div id="postamble" class="status">
      <div id="archive">
        <a href="https://martiyo.github.io/archive.html">Other posts</a>
      </div>
      <footer></footer>
    </div>
  </body>
</html>
